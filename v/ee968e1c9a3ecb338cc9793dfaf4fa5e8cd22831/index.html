<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="C. David Suárez Pascal" />
  <meta name="dcterms.date" content="2024-06-22" />
  <meta name="keywords" content="biosemiótica, teorías biológicas, dualidad de código, interpretación orgánica, genética, evolución" />
  <title>La biosemiótica como teoría biológica</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <!--
  Manubot generated metadata rendered from header-includes-template.html.
  Suggest improvements at https://github.com/manubot/manubot/blob/main/manubot/process/header-includes-template.html
  -->
  <meta name="dc.format" content="text/html" />
  <meta property="og:type" content="article" />
  <meta name="dc.title" content="La biosemiótica como teoría biológica" />
  <meta name="citation_title" content="La biosemiótica como teoría biológica" />
  <meta property="og:title" content="La biosemiótica como teoría biológica" />
  <meta property="twitter:title" content="La biosemiótica como teoría biológica" />
  <meta name="dc.date" content="2024-06-22" />
  <meta name="citation_publication_date" content="2024-06-22" />
  <meta property="article:published_time" content="2024-06-22" />
  <meta name="dc.modified" content="2024-06-22T23:40:06+00:00" />
  <meta property="article:modified_time" content="2024-06-22T23:40:06+00:00" />
  <meta name="dc.language" content="es" />
  <meta name="citation_language" content="es" />
  <meta name="dc.relation.ispartof" content="Manubot" />
  <meta name="dc.publisher" content="Manubot" />
  <meta name="citation_journal_title" content="Manubot" />
  <meta name="citation_technical_report_institution" content="Manubot" />
  <meta name="citation_author" content="C. David Suárez Pascal" />
  <meta name="citation_author_institution" content="Facultad de Ciencias, Universidad Nacional Autónoma de México" />
  <meta name="citation_author_orcid" content="0000-0003-2297-5856" />
  <meta name="twitter:creator" content="@pascalin" />
  <link rel="canonical" href="https://pascalin.github.io/biosemiotics/" />
  <meta property="og:url" content="https://pascalin.github.io/biosemiotics/" />
  <meta property="twitter:url" content="https://pascalin.github.io/biosemiotics/" />
  <meta name="citation_fulltext_html_url" content="https://pascalin.github.io/biosemiotics/" />
  <meta name="citation_pdf_url" content="https://pascalin.github.io/biosemiotics/manuscript.pdf" />
  <link rel="alternate" type="application/pdf" href="https://pascalin.github.io/biosemiotics/manuscript.pdf" />
  <link rel="alternate" type="text/html" href="https://pascalin.github.io/biosemiotics/v/ee968e1c9a3ecb338cc9793dfaf4fa5e8cd22831/" />
  <meta name="manubot_html_url_versioned" content="https://pascalin.github.io/biosemiotics/v/ee968e1c9a3ecb338cc9793dfaf4fa5e8cd22831/" />
  <meta name="manubot_pdf_url_versioned" content="https://pascalin.github.io/biosemiotics/v/ee968e1c9a3ecb338cc9793dfaf4fa5e8cd22831/manuscript.pdf" />
  <meta property="og:type" content="article" />
  <meta property="twitter:card" content="summary_large_image" />
  <link rel="icon" type="image/png" sizes="192x192" href="https://manubot.org/favicon-192x192.png" />
  <link rel="mask-icon" href="https://manubot.org/safari-pinned-tab.svg" color="#ad1457" />
  <meta name="theme-color" content="#ad1457" />
  <!-- end Manubot generated metadata -->
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">La biosemiótica como teoría biológica</h1>
</header>
<p><small><em>
This manuscript
(<a href="https://pascalin.github.io/biosemiotics/v/ee968e1c9a3ecb338cc9793dfaf4fa5e8cd22831/">permalink</a>)
was automatically generated
from <a href="https://github.com/pascalin/biosemiotics/tree/ee968e1c9a3ecb338cc9793dfaf4fa5e8cd22831">pascalin/biosemiotics@ee968e1</a>
on June 22, 2024.
</em></small></p>
<h2 id="authors">Authors</h2>
<ul>
<li><strong>C. David Suárez Pascal</strong>
<sup><a href="#correspondence">✉</a></sup><br>
<img src="images/orcid.svg" class="inline_icon" width="16" height="16" alt="ORCID icon" />
<a href="https://orcid.org/0000-0003-2297-5856">0000-0003-2297-5856</a>
· <img src="images/github.svg" class="inline_icon" width="16" height="16" alt="GitHub icon" />
<a href="https://github.com/pascalin">pascalin</a>
· <img src="images/twitter.svg" class="inline_icon" width="16" height="16" alt="Twitter icon" />
<a href="https://twitter.com/pascalin">pascalin</a>
· <img src="images/mastodon.svg" class="inline_icon" width="16" height="16" alt="Mastodon icon" />
<a href="https://unam.social/@pascalin">@pascalin@unam.social</a>
<br>
<small>
Facultad de Ciencias, Universidad Nacional Autónoma de México
</small></li>
</ul>
<div id="correspondence">
<p>✉ — Correspondence possible via <a href="https://github.com/pascalin/biosemiotics/issues">GitHub Issues</a>
or email to
C. David Suárez Pascal &lt;david.suarez@ciencias.unam-mx&gt;.</p>
</div>
<h2 class="page_break_before" id="resumen">Resumen</h2>
<p>La biosemiótica contemporánea presenta un carácter multifacético, o plural, para expresarlo en términos más actuales.
De hecho se ha descrito como un campo inter- o incluso transdisciplinario, por lo que tiene mucho sentido plantearse la pregunta con respecto a su relación con la biología.
Tanto desde el punto de vista teórico, como desde el histórico o incluso del sociológico, esta pregunta resulta interesante.
Sin embargo, dadas tanto su naturaleza peculiar en términos disciplinarios, como algunas de las tesis que sostiene, es necesario considerar si la bio<em>semiótica</em> es una nueva teoría biológica, si se trata más bien de una aplicación de la semiótica a la biología (algo similar a disciplinas como la bio<em>física</em>, la bio<em>química</em>, la bio<em>estadística</em>, etc.), o si es una propuesta filosófica más que científica.
Para responder a algunas de estas preguntas, este trabajo se centrará principalmente en el aspecto teórico a fin de analizar dos tesis centrales de la biosemiótica (la dualidad de código y la interpretación orgánica), las implicaciones de su irrupción para la biología contemporánea y su relación con otras teorías biológicas.
Después de este examen, se propone que incluso cuando la biosemiótica, entendida en sentido amplio, tiene algunas conexiones con otras disciplinas más allá de la biología, tales como la semiótica y la filosofía, en términos estrictos se trata de una nueva teoría biológica que articula una manera original de aproximarse a los seres vivos y a los procesos biológicos.</p>
<h2 id="abstract">Abstract</h2>
<p>Contemporary biosemiotics is multi-faceted, or plural (to employ a more current term).
Indeed, it has been depicted as an inter- or even a transdisciplinary field, which turns the issue of its relationship with biology into a very relevant question.
This problem can be approached from a theoretical, historical, or sociological perspective.
However, based on its unclear disciplinary status and the contrived character of some theses to which it has been related, it is necessary to analyze whether bio<em>semiotics</em> is a new biological theory, an application of semiotics to biology (something similar to disciplines such as bio<em>physics</em>, bio<em>chemistry</em>, bio<em>statistics</em>, etc.), or rather a philosophical proposal.
To answer some of these questions, this paper deals mainly with theoretical issues to analyze two central biosemiotic theses (code-duality and organic interpretation), their consequences for today’s biology, and their relationships with other biological theories.
After this examination, the conclusion is advanced that even though biosemiotics, construed in broad terms, has some connections with disciplines beyond biology, such as semiotics and philosophy, strictly speaking, it is a new biological theory that articulates an original approach to living beings and to biological processes.</p>
<h2 class="page_break_before" id="introducción">Introducción</h2>
<p>La biosemiótica es un campo de investigación relativamente reciente.
Aunque sus antecedentes teóricos y filosóficos pueden rastrearse al menos hasta los trabajos de Charles S. Peirce y de Jakob von Uexküll, su articulación como un campo de investigación independiente no tiene mucho más de 40 años y no es sino hasta hace relativamente poco que se estableció la primera publicación científica (la revista <em>Biosemiotics</em>) enfocada específicamente en este tema <span class="citation" data-cites="ZvP1qF4C">(<a href="#ref-ZvP1qF4C" role="doc-biblioref">Favareau, 2009</a>)</span>, que se conformó una sociedad científica independiente alrededor de este campo de estudios (la <a href="http://www.biosemiotics.org/">International Society for Biosemiotic Studies</a>), y que empezó a ser conocida dentro de un público más amplio tanto científico como no científico.
No obstante, a pesar de la existencia de al menos dos volúmenes enfocados en ofrecer una panorámica del área <span class="citation" data-cites="SrtRgdfl EqbAXQLH">(<a href="#ref-SrtRgdfl" role="doc-biblioref">Favareau, 2010</a>; <a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008</a>)</span>, y del gran número de trabajos de diversa índole que han sido publicados sobre la biosemiótica, o que adoptan una perspectiva biosemiótica con respecto a algún problema biológico en particular, salta a la vista la falta de interés en la biosemiótica desde la perspectiva de la filosofía de la ciencia y particularmente de la filosofía de la biología, así como de la historia de las ciencias y particularmente de la biología, y esto se aplica en general a todos los estudios sobre la ciencia y la tecnología.</p>
<p>No es demasiado difícil conjeturar cuáles podrían ser algunas de las causas de este desinterés, entre las que se encuentra cierta marginalización tanto de los personajes que constituyen antecedentes históricos para esta nueva disciplina, como también de algunas y algunos de sus actuales defensores <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.
Sin embargo, tampoco es factible atribuir toda la responsabilidad de esta situación a factores sociológicos o incluso políticos; aunque estos sin duda han jugado un papel importante tanto en el abandono anterior como en la recuperación reciente de algunas de las tesis que sostiene la biosemiótica actualmente.
Otro factor importante es con seguridad simplemente el desconocimiento de las propuestas concretas planteadas por la biosemiótica, lo que dificulta a su vez el análisis desde el punto de vista de los estudios sobre la ciencia.
Por lo tanto, si queremos entender a cabalidad la situación peculiar en la que se encuentra la biosemiótica en relación con la biología actual es necesario examinar también sus propuestas teóricas, su relación con otras teorías biológicas y sus implicaciones de más largo alcance para la biología contemporánea.
Eso es precisamente lo que nos hemos propuesto hacer en este trabajo.</p>
<p>La biología del siglo XXI es un campo disciplinario sumamente diverso (o quizás, más bien, la suma de una diversidad de campos disciplinarios) cuyo objeto de estudio abarca toda la diversidad conocida de seres vivos y que incorpora metodologías sumamente disímiles, las cuales van desde la modelación matemática hasta la experimentación en ambientes tanto naturales como artificiales, pasando por la comparación, la clasificación y la reconstrucción histórica.
Desde el punto de vista teórico, la biología actual tampoco presenta un panorama uniforme, sino que, muy lejos de los ideales del añejo programa de unidad de la ciencia, pareciera albergar teorías distintas y en algunos casos contradictorias.
Aun más, las fronteras de la biología, como pasa frecuentemente en las ciencias empíricas, tienen un carácter difuso, de manera que para ciertos estudios o ciertos campos de investigación es difícil determinar con certeza si caen o no dentro de la biología.
Esta situación es particularmente notoria con respecto a ciertos campos disciplinarios y ciertos fenómenos.
En el primer caso se encuentran disciplinas como la biofísica, la bioquímica, las biomatemáticas, o incluso la bioética, pues en términos tanto de su metodología como de su marco teórico bien podría uno cuestionarse con respecto a si se trata de subdisciplinas de la biología o si su lugar más adecuado sería dentro de la física, la química o la filosofía, respectivamente.
Como ejemplo del segundo caso tenemos algunos campos de fenómenos, tales como el origen de la vida <span class="citation" data-cites="3zHibsSh">(<a href="#ref-3zHibsSh" role="doc-biblioref">Oparin et al., 1965</a>)</span>, las grandes transiciones evolutivas <span class="citation" data-cites="17SXoXRQA">(<a href="#ref-17SXoXRQA" role="doc-biblioref">Maynard Smith &amp; Szathmáry, 2010</a>)</span>, o incluso aquello que se ha denominado vida artificial <span class="citation" data-cites="LhygdvHH">(<a href="#ref-LhygdvHH" role="doc-biblioref">Langton, 2000</a>)</span> y vida sintética, pues aunque cada una de estas áreas se relaciona de manera cercana con temas que competen a la investigación biológica, tanto la complejidad de estos problemas como las herramientas empleadas para abodarlos hacen que su estudio se distinga (y en algunos casos se separe radicalmente) de la biología entendida en su sentido más convencional.</p>
<p>Algo similar ocurre con respecto a la biosemiótica, dado que se trata de un campo que combina elementos tanto de la biología como de un área de las humanidades cercana a la lingüística o incluso a la filosofía.
Sin embargo, como veremos, un examen más detallado de la biosemiótica muestra que más que una mera aplicación de la semiótica a la biología (o viceversa), las tesis defendidas por ésta requieren una reconceptualización de ambos campos, por lo que es comprensible que se le haya descrito como una transdisciplina <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, más que como una interdisciplina <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008</a>, XVI)</span>.
El problema con esta denominación, además de su carácter polisémico, es que no especifica de manera precisa cuál es la relación que se plantea entre biología y semiótica, ni nos permite tampoco anticipar la naturaleza de los cambios a nivel teórico que la adopción de la biosemiótica demanda ni para la biología ni para la semiótica.
En vista de esto, lo más conveniente para ponderar la contribución particular que la biosemiótica puede hacer a la biología será examinar en primer lugar sus propuestas teóricas, en segundo lugar, su papel como incorporaciones a la red teórica (o las redes teóricas) de la biología contemporánea, para, finalmente, considerar su carácter inter- o transdisciplinario, esperando que esta cuestión sea iluminada a su vez por las dos consideraciones previas a nivel metateórico.</p>
<h2 id="qué-es-lo-que-propone-la-biosemiótica">¿Qué es lo que propone la biosemiótica?</h2>
<!-- ### Introducción -->
<p>No obstante su carácter multifacético, distintos autores han identificado la idea o tesis central de la biosemiótica que
capturaría, hasta un cierto punto, la naturaleza de esta nueva disciplina. Por ejemplo, Jesper Hoffmeyer ubica esa tesis en la idea de que “la vida se basa fundamentalmente en procesos semióticos” <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 3</a>)</span>.
Alternativamente, para Queiroz, Emmeche, Kull y El-Hani, la “biosemiótica podría ser vista como biología interpretada como el estudio de sistemas vivientes de signos” <span class="citation" data-cites="olmms1HW">(<a href="#ref-olmms1HW" role="doc-biblioref">Terzis &amp; Arp, 2011, p. 91</a>)</span>.
En tanto que ambas enunciaciones expresan ideas similares, también plantean ciertas interrogantes con respecto a la naturaleza de esta disciplina y con respecto a sus relaciones con la biología.
En primer lugar, la propuesta de Hoffmeyer pareciera sugerir un reacomodo con respecto a la estructura teórica asumida comúnmente en la biología, en donde la física y la química establecerían las bases sobre las que se funda el conocimiento biológico.
Así, Hoffmeyer señala explícitamente su intención de reemplazar la creencia en que “la vida es solamente química y moléculas — con una filosofía mucho mejor, más contemporánea y más coherente” <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 15</a>)</span>, en la cual la vida y los signos constituyan los fenómenos fundamentales.
De acuerdo con esta modificación propuesta por Hoffmeyer, para la biosemiótica “la vida está compuesta por moléculas, que se manifiestan a sí mismas como signos” <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 15</a>)</span>.</p>
<p>Al contrario de lo que parecería sugerir el lenguaje empleado ocasionalmente por autores como los mencionados, la biosemiótica no es una propuesta estrictamente filosófica ni tampoco conlleva simplemente una reinterpretación o reformulación del conocimiento biológico empleando la terminología de la semiótica, sino que también hace propuestas teóricas propias cuyo examen es esencial para esclarecer la relación que plantea tanto entre la biología y la semiótica como con otras teorías biológicas.
Entre esas propuestas teóricas dos que resaltan y que examinaremos a continuación son la <em>dualidad de código</em> y la <em>causalidad semiótica</em>, aunque, como propuse previamente <span class="citation" data-cites="DI7UW0KI">(<a href="#ref-DI7UW0KI" role="doc-biblioref">Suárez Pascal, 2021, pp. 9-10</a>)</span>, considero que un mejor nombre para la segunda tesis podría ser el de interpretación orgánica.</p>
<!-- ### Dualidad de código -->
<p>La primera tesis, defendida originalmente por Hoffmeyer y posteriormente en colaboración con Claus Emmeche <span class="citation" data-cites="FUBA4hgk EqbAXQLH">(<a href="#ref-FUBA4hgk" role="doc-biblioref">Anderson &amp; Merrell, 1991, pp. 117-166</a>; <a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, pp. 71-110</a>)</span>, consiste en señalar la existencia de dos naturalezas, o dos partes, complementarias en los sistemas biológicos, una analógica y otra digital.
Según estos autores, esta condición constituye la base de la capacidad de los sistemas vivientes de “seleccionar y responder a diferencias en su entorno” <span class="citation" data-cites="FUBA4hgk">(<a href="#ref-FUBA4hgk" role="doc-biblioref">Anderson &amp; Merrell, 1991, p. 126</a>)</span> al permitir la auto-referencia, esto es, una descripción digital de sus componentes analógicos que a pesar de ser parcial dota al sistema de cierta memoria y continuidad temporal.
De acuerdo con esta categorización, todo ser vivo estaría conformado por una parte “analógica” que es la que interactúa con el entorno y en la que predominan procesos <em>análogos</em> a aquellos que tienen lugar en otros sistemas físicos.
La relación entre una enzima y su sustrato, esto es, las interacciones electroquímicas entre estas moléculas, así como la incidencia mecánica de un pico o una garra sobre un material, ya sea de origen biótico o abiótico, forman parte de esa naturaleza analógica.
En cambio, otro tipo de relaciones o procesos serían, de acuerdo con esta tesis, de naturaleza digital y giran en torno al establecimiento de códigos biológicos, esto es, de relaciones con un cierto grado de convencionalidad y que requeriría otras formas de explicación, distintas a las empleadas para dar cuenta de la parte analógica.</p>
<p>Aunque Stjernfelt señala que, estrictamente hablando, sólamente podríamos hablar de códigos en el ámbito digital y que, por lo tanto, el término de “dualidad de código” sería inadecuado <span class="citation" data-cites="YObLsYip">(<a href="#ref-YObLsYip" role="doc-biblioref">Stjernfelt, 2002, p. 10</a>)</span>, la dualidad a la que se refiere esta tesis constituye una parte medular de distintas propuestas al interior de la biosemiótica.
En particular, en el caso de Uexküll (y quizás también de von Baer <span class="citation" data-cites="FBpWxR8o">(<a href="#ref-FBpWxR8o" role="doc-biblioref">Rama, 2024</a>)</span>) la dimensión digital estaría expresada en términos del plan de organización (o <em>Bauplan</em>), más que de un código genético.
Sin embargo, el rol teórico de la distinción sería el mismo en tanto que permite formular un tipo de explicación que se distingue de la forma en que explicamos de manera común ĺos procesos pertenecientes a la dimensión analógica de los sistemas biológicos.</p>
<p>De manera independiente tanto de la biosemiótica como del trabajo de Uexküll, o incluso del de Peirce, Michael Polanyi apuntó también hacia esta dualidad presente en los seres vivos, al igual que en las máquinas, la cual relacionó tanto con la organización, o la estructura, como con el concepto de información <span class="citation" data-cites="4b7Dbsp4">(<a href="#ref-4b7Dbsp4" role="doc-biblioref">Polanyi, 1968</a>)</span>, por lo que se encuentra cercano tanto a la posición de Hoffmeyer como a la de Uexküll.
Para Polanyi, las máquinas, al igual que los seres vivos, operan bajo el control de dos principios: 1) el diseño, y 2) los procesos físico-químicos.
El primero de estos principios opera estableciendo condiciones de frontera (<em>boundary conditions</em>) sobre las leyes de la física y la química, que constituyen el segundo principio <a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.
De esta manera, Polanyi coincide con Hoffmeyer al señalar que los organismos son sistemas de los cuales se podría afirmar que están bajo un control dual, no solamente en términos de los procesos físico-químicos que en ellos operan, sino en términos también de su estructura, que funciona como condición de frontera para los primeros.</p>
<p>Aunado al reconocimiento de esta dualidad, Polanyi plantea una diferencia complementaria en cuanto a dos tipos de fronteras, una que llama “de tubo de ensaye” y otra que denomina de tipo “máquina”, en función de los intereses (pragmáticos, en el sentido de van Fraassen <span class="citation" data-cites="5gFnGN3M">(<a href="#ref-5gFnGN3M" role="doc-biblioref">Van Fraassen, 1980</a>)</span>) que llevan asociados.
En el primer caso lo que más nos interesa son los procesos que están siendo controlados por la frontera, mientras que en el segundo tipo lo que más nos interesa son precisamente las fronteras, o, de manera todavía más precisa, los efectos producidos por ellas.
De acuerdo con Polanyi, tanto la estructura u organización de los seres vivos, como el fenómeno de la comunicación pertenecen al segundo tipo de frontera:</p>
<blockquote>
<p>The same thing holds for machine-like boundaries; their structure cannot be defined in terms of the laws which they harness.
Nor can a vocabulary determine the content of a text, and so on.
Therefore, if the structure of living things is a set of boundary conditions, this structure is extraneous to the laws of physics and chemistry which the organism is harnessing.
Thus the morphology of living things trascends the laws of physics and chemistry. <span class="citation" data-cites="4b7Dbsp4">(<a href="#ref-4b7Dbsp4" role="doc-biblioref">Polanyi, 1968, p. 161</a>)</span></p>
</blockquote>
<p>Es interesante que tanto para Hoffmeyer como para Polanyi la tesis con respecto a la dualidad podría entenderse como una tesis ontológica, que marcaría la separación entre los sistemas inertes y los sistemas vivos, de manera que más que tratarse de la postulación de un principio que conecte dos disciplinas distintas, tales como la biología y la semiótica, se trata de una característica que nos permitiría delimitar el objeto de estudios propio de la biología y debería encontrarse, por lo tanto, formando parte de sus leyes o principios fundamentales.
Sin embargo, a pesar de la posición sostenida por estos autores, en este trabajo se sugerirá que la tesis con respecto a la dualidad puede interpretarse no solamente como una tesis ontológica, sino como una tesis epistemológica o incluso como una tesis pragmática, sin que esto implique necesariamente una pérdida de relevancia teórica para la biología contemporánea.
De hecho, como señalaremos más adelante, Polanyi acepta la posibilidad de gradualidad con respecto al control dual, lo que, en conjunto con su reconocimiento del carácter pragmático de la distinción entre los dos tipos de fronteras, flexibilizaría un poco su posición ontológica.</p>
<!-- Aunque un poco más añeja, la propuesta correspondiente a la dualidad de código en Uexküll se relaciona con su concepto de *Umwelt*, o mundo circundante, el cual vincula de manera íntima la organización particular de cada especie con aquellos aspectos  -->
<!-- Si bien hay varias diferencias en la manera en que Uexküll, Polanyi y Hoffmeyer entienden esta dualidad, quizás la más importante tiene que ver con el tipo de distinción que se establece, pues mientras que en Uexküll y Hoffmeyer podría sugerirse que se trata de una separación ontológica entre sistemas vivos y no vivos -->
<!-- dos niveles de realidad, uno que correspondería al mundo físico y otro al mundo vivo, con respecto a la propuesta de Polanyi podría sostenerse de que se trata de una distinción puramente pragmática, pues incluso cuando este autor reconoce que ambos  -->
<!-- Como veremos más adelante, no es necesario interpretar esta dualidad en un sentido ni ontológico, ni epistémico para que tenga consecuencias importantes a nivel teórico para la biología, pues bastaría con entenderla en un sentido puramente pragmático, como pareciera sugerir Polanyi al señalar que la distinción entre fronteras de tubo de ensaye y de tipo máquina corresponde con un enfoque que puede ser alternado desplazando nuestra atención de un aspecto al otro. -->
<!-- Para estos autores, la relevancia  -->
<!-- Entre estos están aquellos que median entre la secuencia de codones del DNA o del RNA que forma parte del material genético de una célula, y la función o funciones que desempeñan las moléculas de proteína que son producidas empleando esas secuencias genéticas a manera de plantilla; así como el conjunto particular de movimientos que forman parte de un ritual de apareamiento en una especie de aves o de insectos. -->
<!-- Igualmente,  -->
<!-- ### Interpretación fisiológica -->
<p>Una segunda tesis, defendida de manera implícita o explícita por múltiples proponentes en la biosemiótica, es la tesis de la interpretación orgánica (como la hemos titulado aquí).
De manera sucinta, Hoffmeyer la resume como una tesis según la cual existen procesos orgánicos de interpretación que serían causalmente eficaces en los seres vivos <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008</a>, xiv)</span>.
Aunque esta tesis requiere para su esclarecimiento de un análisis más profundo del que podemos emprender en este trabajo, a grandes rasgos lo que afirma, en su sentido más débil, es la legitimidad de explicaciones que consideren el estado del organismo bajo estudio como uno de sus componentes esenciales.
En su sentido más fuerte, la tesis de la interpretación orgánica afirma la irrelevancia casi absoluta de las propiedades físico-químicas de un estímulo en la explicación del comportamiento de un sistema vivo.
Hoffmeyer describe esta tesis de manera más extensa en los siguientes términos:</p>
<blockquote>
<p>This other kind of causality alluded to by Peirce is exactly what I have suggested we call semiotic causality, i.e., bringing about things under guidance of interpretation in a local context.
Semiotic causality cannot be reduced to efficient causality but, on the contrary, is dependent upon the workings of efficient causality, since interpretation, even in its most primitive modes, is of no need if not followed by habit formation, or, in other words, by anticipatory action—and action unquestionably depends on efficient causality.
Semiotic causality thus gives direction to efficient causality, while efficient causality gives power to semiotic causality.
Their reciprocal relation is one of inter­dependence, not one of exclusion. <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 64</a>)</span></p>
</blockquote>
<p>De la misma manera que en relación con la primera tesis nos podemos cuestionar con respecto a la naturaleza de la dualidad planteada, en el caso de la tesis de la interpretación orgánica tendría sentido distinguir aquellos aspectos que establecen las principales diferencias entre las distintas posturas, los cuales son, en primer lugar, 1) si se entiende como una tesis ontológica, epistemológica, o pragmática (por mencionar tres de las posibilidades más relevantes para la biología); en segundo lugar, 2) cuál es el rol que desempeña esta interpretación o este tipo de causalidad en relación con la explicación de los fenómenos biológicos; y, finalmente, 3) qué tan radical es la separación o independencia que se plantea entre los procesos orgánicos de interpretación y los procesos a nivel físico-químico.</p>
<p>Aunque se podría cuestionar hasta qué punto las tesis de dualidad de código y de interpretación orgánica son independientes, o si se trata más bien de dos partes de la misma tesis, tiene sentido distinguirlas a fin de mostrar las diferentes maneras en que se pueden interpretar para dar lugar a distintas posturas al interior de la biosemiótica. Por esto mismo podrían servir de base para caracterizar la posición defendida por diferentes exponentes, lo cual, a su vez, podría servir para examinar qué tan interrelacionadas están entre sí ambas tesis.</p>
<p>Para finalizar esta sección y para ejemplificar esta interrelación convendrá examinar, aunque sea de manera somera, la teoría de Jakob von Uexküll sobre el Umwelt, o mundo circundante, lo cual nos permitirá tanto conocer algunas de las propuestas de este representante clave de la biosemiótica como analizar su relación con las dos tesis básicas que acabamos de exponer.</p>
<p>De manera muy conveniente para nosotros, Hoffmeyer vincula su propia propuesta con el trabajo de Uexküll de la siguiente manera, permitiéndonos apreciar las relaciones entre el concepto de Umwelt y la tesis de dualidad de código que él mismo propone:</p>
<blockquote>
<p>The realization in space and time of the structural relations specified in the digital code determines what kind of differences in its surroundings the system will actually select and respond to.
In Uexküllian terms, these specifications determine not just the anatomical and physiological buildup of the organism but also the kind of Umwelt the organism will get through this realization. <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, pp. 82-83</a>)</span></p>
</blockquote>
<p>Como se puede intuir a partir de la cita anterior, la dualidad que plantea Uexküll es aquella que existe entre la organización, o el <em>Bauplan</em> (plan de construcción) del organismo y aquello que lo rodea, que constituye su entorno, y a partir de cuya selección se construye el mundo particular de cada especie, o Umwelt.
En términos de Hoffmeyer, el primer componente de esta dualidad se relaciona directamente con la codificación digital, pues sería el DNA, esto es, la codificación (digital) de las relaciones estructurales presente en el material genético, el que daría lugar al Umwelt de cada organismo al especificar tanto sus componentes anatómicos como fisiológicos.
En términos de Polanyi, el <em>Bauplan</em> de cada organismo tiene una relación directa con su concepto de frontera, en tanto que correspondería al tipo de organización que los seres vivos comparten con las máquinas y que, para Polanyi, establecería uno de los ámbitos del control dual que caracteriza a ambos tipos de sistemas.
Sin embargo, con respecto al segundo componente en la propuesta de Uexküll hay una diferencia importante entre Hoffmeyer y Polanyi, la cual podría ayudarnos a iluminar algunos aspectos peculiares de la biosemiótica frente a otras teorías biológicas.
Mientras que para Polanyi la contraparte de la estructura en un sistema bajo control dual (tal como las máquinas y los seres vivos) la forman los principios físico-químicos, para Hoffmeyer se trataría más bien de una codificación analógica de las relaciones entre el organismo y su entorno.</p>
<p>Así, mientras que la teoría del Umwelt de Uexküll podría analizarse en términos ya sea de la dualidad planteada por Polanyi o por Hoffmeyer, para reconstruirla de manera más precisa lo más adecuado sería apelar a la noción de frontera de Polanyi, para dar cuenta de la función que Uexküll le asigna al <em>Bauplan</em>, mientras que para dar cuenta de la relación con el entorno sería conveniente entenderla en términos de la codificación analógica planteada por Hoffmeyer, pues es precisamente en esos términos que Uexküll plantea la óperación tanto de los órganos perceptuales como de los órganos efectores.</p>
<p>Si bien existe cierta correspondencia entre la idea de frontera de Polanyi y la idea de codificación digital planteada por Hoffmeyer, este último considera la organización correspondiente al Bauplan como un aspecto secundario, que sería especificado de manera primaria por la codificación digital en términos genéticos, lo cual crea cierta discrepancia con respecto a la unidad de análisis entre las propuestas de Uexküll y de Polanyi, por un lado, y la de Hoffmeyer, por el otro, pues mientras que Polanyi reconoce diversos niveles de análisis y Uexküll se centra particularmente en el organismo, Hoffmeyer pareciera estar mucho más interesado en el sistema genético y de hecho señala en alguna ocasión, reformulando un trabajo previo con Claus Emmeche <span class="citation" data-cites="FUBA4hgk">(<a href="#ref-FUBA4hgk" role="doc-biblioref">Anderson &amp; Merrell, 1991, p. 127</a>)</span>, que tanto las proteínas como el organismo son las formas análogas correspondientes a la codificación digital <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 82</a>)</span>.</p>
<p>A diferencia de Hoffmeyer, tanto Uexküll como Polanyi ven, en el simple hecho de la organización, la posibilidad, e incluso la necesidad, de incorporar formas de explicación diferentes a las que se requieren para dar cuenta de sistemas que no se encuentran bajo lo que Polanyi denomina como control dual.
La posición de Uexküll a este respecto es lo suficientemente explícita como para justificar su reconstrucción combinada en términos de las propuestas de condiciones de frontera y de codificación analógica, de Polanyi y de Hoffmeyer, respectivamente, como lo muestra la siguiente cita:</p>
<blockquote>
<p>El tratamiento biológico de los círculos funcionales requiere que también consideremos desde la perspectiva de la concordancia a un plan la parte del círculo que transcurre en el Umwelt en el exterior del cuerpo.
Y esto es nuevo e inusual.
Estamos acostumbrados a tratar las cosas que están fuera del sujeto puramente según reglas de causalidad.
Sin embargo, así no haríamos justicia a la estructura biológica que se extiende a lo largo de todo el círculo.</p>
</blockquote>
<blockquote>
<p>Si queremos construir por nosotros mismos el circuito funcional completo de una máquina, en el que podamos, por ejemplo, dotar a una locomotora automática con un aparato óptico que se estimule con las características verdes y rojas de unas señales, e influir así en el control de la locomotora, entonces tenemos que construir también el Umwelt, esto es, en este caso, las vías, tan en concordancia con un plan como la locomotora misma <span class="citation" data-cites="163PNLUMD">(<a href="#ref-163PNLUMD" role="doc-biblioref">von Uexküll, 1928, p. 102</a>, la traducción es mía)</span>.</p>
</blockquote>
<!-- > Die biologische Behandlung der Funktionskreise verlangt, daß wir auch den außerhalb des Körpers in der Umwelt verlaufenden Teil des Kreises gleichfalls unter dem Gesichtspunkte der Planmäßigkeit betrachten. -->
<!-- > Und dies ist neu und ungewohnt. -->
<!-- > Wir sind gewohnt, die außerhalb des Subjekts liegenden Dinge rein nach Kausalitätsregeln zu behandlen. -->
<!-- > Dadurch werden wir aber dem biologischen Gefüge nicht gerecht, das sich durch den ganzen Kreis hindurch erstreckt. -->
<!-- > Wollen wir selbst einen lückenlosen maschinellen Funktionskreis bauen, der, in dem wir z. B. eine automatische Lokomotive mit einem optischen Apparat versehen, der von den Merkmalen der grünen und roten Einfahrtzeichen erregt wird, und daraufhin die Steuerung der Lokomotive beeinflußt, so müssen wir auch die Umwelt, d. h. in diesem Falle den Schienenstrang ebenso planmäßig bauen wie die Lokomotive selbst. -->
<p>Como vemos, en Uexküll ya aparecen combinadas las dos tesis que examinamos anteriormente.
Por un lado, la dualidad referida tanto por Hoffmeyer como por Polanyi está presente de diversas maneras en la propuesta de Uexküll, aunque quizás de forma más representativa en su distinción entre mundo interior (<em>Innenwelt</em>) y mundo circundante (<em>Umwelt</em>).
Por otro lado, la tesis de la interpretación orgánica aparece de manera explícita vinculada a su propuesta del círculo funcional (<em>Funktionskreis</em>), en donde Uexküll muestra cómo la integración perceptual de las características de aquellos elementos del entorno de un organismo que son significativos para su especie estimula su análisis en términos de acciones particulares dirigidas hacia ciertas estructuras del entorno.
Como ya se ha argumentado previamente <span class="citation" data-cites="DI7UW0KI">(<a href="#ref-DI7UW0KI" role="doc-biblioref">Suárez Pascal, 2021</a>)</span>, en el esquema del círculo funcional las acciones desplegadas por el organismo son explicadas en términos del significado de los estímulos para el organismo, con base en su organización anatómica y fisiológica particular, más que en función de la naturaleza físico-química de aquellos factores que inciden sobre él.
Así, si bien la tesis de la dualidad pareciera tener en Uexküll también un carácter ontológico, la tesis de la interpretación orgánica podría entenderse, en principio, en un sentido tanto pragmático como epistémico, o incluso ontológico, dependiendo del rol que se asigne a la organización en la explicación del comportamiento de los organismos.</p>
<!-- Así, es claro que para Uexküll no es suficiente con estudiar a los organismos desde el punto de vista de la física y de la química, sino que para dar cuenta de ellos es necesario atender también a lo que él denomina como la concordancia a un plan, que no es otra cosa sino la integración funcional de las partes con respecto a las actividades de los organismos, y de esas actividades con respecto al entorno de cada ser vivo y con respecto a las actividades de otros organismos. -->
<p>No obstante, independientemente del sentido preciso en que se entiendan, las dos tesis descritas aquí constituyen contribuciones teóricas a la biología, esto es, son propuestas que ayudan a configurar nuestro conocimiento con respecto a un ámbito de la realidad que coincide con los sistemas biológicos en su sentido más amplio, desde los organismos más simples hasta los ecosistemas.
A diferencia de lo que podría sugerir el nombre de biosemiótica, las tesis de dualidad de código y de interpretación orgánica no se restringen al ámbito de la comunicación animal, ni mucho menos al de la comunicación humana, sino que, dada su generalidad, pretenden reconfigurar de manera profunda la manera en que entendemos a los seres vivos y, particularmente, su relación con el entorno, por lo que la teoría biosemiótica podría equipararse en cuanto a su importancia para la biología con la teoría celular, con la teoría evolutiva o incluso con la genética, sin que pretenda reemplazar a ninguna de estas.
En lugar de esto, las tesis propuestas por la biosemiótica se articulan de manera natural, como veremos a continuación, con otras teorías biológicas, incorporando esta nueva perspectiva en distintas áreas de la biología.</p>
<h2 id="qué-es-lo-que-aporta-la-biosemiótica-a-la-biología-contemporánea">¿Qué es lo que aporta la biosemiótica a la biología contemporánea?</h2>
<p>En una frase que ha sido ampliamente difundida en la biología, el genetista Theodosious Dobzhansky afirmó que «en biología nada tiene sentido si no es a la luz de la evolución» <span class="citation" data-cites="1GkUZdQtY">(<a href="#ref-1GkUZdQtY" role="doc-biblioref">Dobzhansky, 1973</a>)</span>.
Por otro lado, en una afirmación casi igual de aventurada, Ernst Mayr afirma que en el caso de casi todo fenómeno biológico hay <em>siempre</em> un conjunto de causas próximas y un conjunto de causas últimas que deben ser abordadas para tener una comprensión completa del fenómeno <span class="citation" data-cites="kuqja85O">(<a href="#ref-kuqja85O" role="doc-biblioref">Mayr, 1961, p. 1503</a>)</span>.
Como hemos visto, algunas de las afirmaciones de la biosemiótica tienen un carácter igual de ambicioso que el de las dos afirmaciones previas.
En particular, la tesis de la dualidad de código examinada en la sección previa tiene cierto parecido con la tesis de Mayr con
respecto al problema de la causalidad en la biología, aunque también hay algunas diferencias importantes, como veremos más adelante.
Por otro lado, algunas caracterizaciones propuestas para la biosemiótica podrían resumirse, a la manera de Dobzhansky, en la expresión de que nada en biología tiene sentido si no es a la luz de la significación.</p>
<p>Aunque las afirmaciones de Dobzhansky y de Mayr son muy aventuradas en tanto términos teóricos como filosóficos, es posible reinterpretarlas al menos parcialmente desde el punto de vista de la biosemiótica de manera más consistente a partir de las dos tesis descritas en la sección anterior, reduciendo así quizás algunas reservas y malentendidos al respecto que son comunes tanto en el ámbito científico como en el filosófico.
Una buena manera de hacer esto es analizando, aunque sea de manera somera, la relación que guardan las dos tesis biosemióticas centrales de dualidad de código y de interpretación orgánica con el cuerpo teórico y con el campo de estudios de áreas centrales de la biología tales como la genética y la evolución.</p>
<!-- ### Genética -->
<p>Aunque tanto el trabajo de Polanyi y Hoffmeyer, como el de Marcello Barbieri y el de más proponentes en el terreno de la biosemiótica se ha centrado en la genética, o al menos le ha otorgado un papel preponderante, la importancia de la biosemiótica no se reduce a este campo, sino que, como intentamos mostrar tanto en relación con la concepción de control dual de Polanyi como con respecto a la teoría del Umwelt de Uexküll, tiene aplicación en otras áreas de la biología en donde el concepto de organización adopta un rol central.</p>
<p>Si bien los antecedentes teóricos de la biosemiótica se encuentran más cercanos a la fisiología y al estudio de la conducta y de la comunicación animal, con autores como Uexküll y Sebeok, así como en quienes les influyeron (Karl von Baer, Jean-Henri Fabre, Charles S. Peirce, Victoria Welby, etc.), que en la genética, no es de extrañar que este último campo haya recibido una gran atención en la biosemiótica contemporánea, pues, como Polanyi, Barbieri <span class="citation" data-cites="17TQyAtcG">(<a href="#ref-17TQyAtcG" role="doc-biblioref">Barbieri, 2008a</a>)</span> y Hoffmeyer reconocen de manera explícita, el descubrimiento del código genético representó un parteaguas en la biología, en tanto que mostró la necesidad de incorporar nuevas aproximaciones teóricas, que nos permitieran dar cuenta, por un lado, de la existencia de códigos biológicos, en el pleno sentido de la palabra, y por el otro lado, de la existencia de su contraparte, esto es, de procesos de semiosis, o de interpretación, en los sistemas biológicos.</p>
<p>Si bien esta situación peculiar en relación con la genética no ha pasado del todo desapercibida en la biología, Sarkar <span class="citation" data-cites="6jIXtLW0">(<a href="#ref-6jIXtLW0" role="doc-biblioref">Sarkar, 1996</a>)</span> señala, muy atinadamente, que tal intuición tampoco ha dado lugar a un desarrollo teórico correspondiente y que aquellos esfuerzos por construir tal marco han tenido un alcance muy limitado.
De tal manera que a pesar de una notable proliferación del lenguaje informacional en la biología, no existe una contraparte teórica que nos permita establecer con certeza el significado de esas afirmaciones ni su relevancia para el conocimiento de los sistemas biológicos.
En particular, para Sarkar, la situación actual en la biología en relación con el uso del lenguaje informacional nos pone en una encrucijada, pues aquellas teorías que han sido propuestas y que involucran alguna noción de información no parecen capturar el sentido de este concepto como es empleado en la genética y en la biología molecular.
Por otro lado, aquellas propuestas que sí incorporan un sentido de “información” más cercano al empleado en esta área no parecen tener mucho impacto en términos de su potencial para explicar o predecir.</p>
<p>Justamente en este punto es en el que la biosemiótica puede hacer una contribución importante para ayudar a esclarecer tanto el significado de los conceptos informacionales en la biología, como a distinguir entre los usos legítimos e ilegítimos de los mismos.
De hecho, el reconocimiento de la singularidad del código genético es lo que parece motivar a los autores mencionados, incluyendo a Sarkar (a pesar de su escepticismo), para señalar la inconsistencia existente en la biología contemporánea con respecto al uso de conceptos informacionales sin el correspondiente marco teórico, como si cuando se habla de información en relación con la biología nos refiriéramos a un componente material más de las células, como la membrana celular o las mitocondrias.
Sin embargo, lo que en el lenguaje habitual de la biología le ocurre a esa entidad es algo que difícilmente se podría predicar de un organelo u otro componente celular, pues suele decirse que esa información es leída, transcrita, traducida, copiada, corregida, transferida y expresada a través de distintos procesos biológicos.
Como señalan tanto Hoffmeyer como Barbieri, si en efecto, y a pesar de los problemas que apunta Sarkar, queremos aplicar con
propiedad conceptos informacionales en la biología, entonces tendríamos que reconocer dos aspectos que han sido esencialmente ignorados en la biología contemporánea:</p>
<ol type="1">
<li>la existencia de procesos biológicos de interpretación <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008</a>, xiv, 107)</span> y</li>
<li>la operación de procesos de codificación biológica que dan lugar al establecimiento de <em>convenciones naturales</em> <span class="citation" data-cites="ihWPbtwE">(<a href="#ref-ihWPbtwE" role="doc-biblioref">Barbieri, 2008b</a>)</span>.</li>
</ol>
<p>En algún sentido, el descubrimiento del código genético y la relevancia que estos autores le otorgan equivale al reconocimiento por parte de Uexküll de que el comportamiento de los seres vivos requería para su explicación de algo más que los principios mecánicos, los tropismos o la idea del arco reflejo, que requería dar cuenta de la interacción estrecha entre la organización de los seres vivos y su mundo circundante.
De hecho, en su breve acercamiento a la genética, Uexküll llega a otorgarle un papel central a los genes en el proceso del desarrollo ontogenético.
Sin embargo, dicho papel dista mucho de aquel que ha llegado a dominar la imaginación de muchas personas tanto en el ámbito científico como fuera de él.</p>
<p>De acuerdo con Maynard Smith, esta concepción heredada tendría detrás “la filosofía” de que los genes transportan, en forma digital, las instrucciones para construir un organismo <span class="citation" data-cites="ekVg4uzi">(<a href="#ref-ekVg4uzi" role="doc-biblioref">Maynard Smith, 1999, p. 2</a>)</span>.
Para Uexküll los genes funcionan, en cambio, como una especie de organizador del desarrollo en el sentido de que su estimulación, o su activación, para expresarlo en términos más contemporáneos, desencadena una serie de cambios en el metabolismo de las células <span class="citation" data-cites="163PNLUMD">(<a href="#ref-163PNLUMD" role="doc-biblioref">von Uexküll, 1928, p. 168</a>)</span>, pero el plan de construcción, o las instrucciones, como las llama Maynard Smith, no están presentes físicamente en los cromosomas.
Para explicar esto, Uexküll plantea una analogía con la música, de acuerdo con la cual los genes están arreglados a la manera de un teclado y su activación ocurre siguiendo la pauta de una determinada melodía en cuya composición dominan los motivos de los círculos funcionales, o círculos de significación, en los que el organismo participa.</p>
<blockquote>
<p>A particular individual obtains a very small amount of matter from his parents in the form of a germ-cell, itself capable of division, and a keyboard composed of genes.
With each cell division these genes are distributed in the same number to the daughter cells.
This keyboard is played upon by the form-shaping melodies like the keys of a piano, in order to produce the development of form.
Each gene that is set into action acts as a differential stimulus to the protoplasm of its cells to build structures <span class="citation" data-cites="DrMYyFdG">(<a href="#ref-DrMYyFdG" role="doc-biblioref">VON UEXKÜLL, 1982, p. 71</a>)</span>.</p>
</blockquote>
<p>Si bien Uexküll no desarrolla mucho más su teoría sobre la generación de la forma (o teoría de composición de la naturaleza, como él la denomina), sí hace diversos señalamientos que son particularmente interesantes y que acentúan el contraste con otras teorías del desarrollo.
En primer lugar, la propuesta de Uexküll tiene un fuerte componente ecológico, pues la melodía a la que se refiere es la coordinación (<em>Einpassung</em>) que existe entre una especie y aquellos factores, tanto bióticos como abióticos, que forman parte de su <em>Umwelt</em> y con los que cada organismo se relaciona a lo largo de su vida <span class="citation" data-cites="d0ent6E7">(<a href="#ref-d0ent6E7" role="doc-biblioref">von Uexküll, 1927, p. 700</a>)</span>.
En segundo lugar, el patrón que orienta la generación de la forma, para Uexküll, no es la forma en sí, en el sentido acostumbrado del arreglo espacial de las partes, sino el desempeño (<em>Leistung</em>) de esas partes en relación con aquellos factores ecológicos con los que un organismo se relaciona de manera significativa <span class="citation" data-cites="DrMYyFdG">(<a href="#ref-DrMYyFdG" role="doc-biblioref">VON UEXKÜLL, 1982, p. 66</a>)</span>.</p>
<!-- ### Evolución -->
<p>Como ya se ha señalado en un trabajo anterior <span class="citation" data-cites="DI7UW0KI">(<a href="#ref-DI7UW0KI" role="doc-biblioref">Suárez Pascal, 2021</a>)</span>, ambos aspectos de la propuesta de Uexküll configuran una teoría del organismo sumamente original, pero que entra en conflicto con algunas partes de la teoría evolutiva resultante de la síntesis moderna.
En particular, la manera en que la síntesis moderna concibe la adaptación y la selección natural requiere una revisión profunda desde el punto de vista de la biosemiótica, pues, como ya señalaba Uexküll, si los organismos forman una unidad con su mundo circundante y se relacionan significativamente sólo con ciertos elementos de su entorno que les son accesibles en función de su organización, la idea misma de adaptación pierde sentido.
Esta es una de las motivaciones de Uexküll para reemplazar el término de adaptación (<em>Anpassung</em>), por el de coordinación orgánica (<em>Einpassung</em>).
De manera complementaria, el hecho de que las relaciones funcionales entre los organismos y su entorno se establezcan de manera primordial a partir de las acciones de los organismos conlleva un distanciamiento radical con respecto a la noción de <em>fitness</em> y particularmente con respecto a su pretensión de jerarquizar a los organismos en función de su adecuación al medio.</p>
<p>Para ilustrar este último punto sería útil imaginarnos un conjunto de interruptores eléctricos que al ser accionados encienden una luz con distintos grados de éxito.
En efecto, tales dispositivos podrían ser ordenados de manera creciente o decreciente según su grado de efectividad para encender la luz (por ejemplo: 1%, 5%, 10%, 50%, 90%), sin embargo, a) si la función que desempeñan estos dispositivos formara parte de uno de los círculos funcionales, o tareas, que un organismo realiza, entonces es difícil pensar que una efectividad menor al 90% o incluso más alta, podría formar parte de ningún organismo en la naturaleza; por otro lado, b) si la tarea que desempeñan estos interruptores no formara parte de ningún círculo funcional del organismo entonces su efectividad sería completamente irrelevante para el organismo en cuestión.
En cualquiera de los dos casos a) o b), parece muy complicado establecer un regla de comparación que nos permitiera ordenar a los organismos a partir de un solo rasgo.
Y lo que es todavía más importante desde el punto de vista de la biosemiótica es que esa ordenación sólo tendría sentido una vez que la operación del rasgo en cuestión forma parte integral de un circulo funcional ya establecido <a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<p>Aunque la exploración detallada de las relaciones interteóricas entre la biosemiótica y otras teorías existentes en la biología contemporánea rebasa el alcance de este trabajo, a continuación hago algunas acotaciones muy sintéticas con respecto a su impacto en términos de las modificaciones más o menos profundas que se requieren a nivel teórico, así como de las nuevas interrogantes que se plantean y de las posibles vías de solución para problemas nuevos o ya existentes que se pueden plantear.
En particular, en el caso de la teoría evolutiva una de las modificaciones que se requiere es incorporar una conceptualización distinta de la relación organismo-ambiente que tome en cuenta que esa integración se da por al menos tres vías distintas: la de la percepción, la de las acciones de los organismos, y la de la organización interna, que vincula las primeras dos esferas.
La consideración de esta triple articulación de la relación organismo-ambiente pone en serias dificultades a los modelos simples de optimización, tales como aquellos que han sido empleados para modelar la acción de la selección natural <span class="citation" data-cites="KUESt8Db m7Vdb8jQ">(<a href="#ref-m7Vdb8jQ" role="doc-biblioref">Orzack &amp; Sober, 2001</a>; <a href="#ref-KUESt8Db" role="doc-biblioref">Smith, 1978</a>)</span>, y a su vez tiene un importante impacto filosófico, en tanto que una buena parte del debate con respecto al naturalismo se vincula de manera explícita o implícita con una concepción del <em>fitness</em> vinculada a la idea de optimización.
Como se ha argumentado previamente <span class="citation" data-cites="DI7UW0KI">(<a href="#ref-DI7UW0KI" role="doc-biblioref">Suárez Pascal, 2021</a>)</span>, la vinculación entre la biosemiótica y la teoría evolutiva desplaza el foco de la investigación en la biología evolutiva de la acción de la selección natural hacia los procesos por los que se construyen nuevos esquemas de organización que son capaces de mantener la coordinación tanto en términos morfofisiológicos, como ecológicos e interespecíficos.</p>
<p>Si bien la naturaleza de esos procesos todavía constituye un problema abierto, una consideración de lo que aquí propongo que son las tesis centrales de la biosemiótica, y particularmente de su articulación por parte de Uexküll, sugiere ciertas rutas de solución, las cuales ayudarán a mostrar, además, la originalidad de esta propuesta.
En primer lugar, la aceptación de la dualidad de código, o del control dual, como le llama Polanyi, excluye las posibilidades planteadas por las propuestas de corte lamarckiano, pues éstas implicarían que el desajuste en la coordinación entre los organismos y su entorno influye directamente en la organización adaptándola a fin de eliminar el desajuste, pero si tal desajuste puede ser percibido por el organismo, y si este puede modificar su comportamiento en respuesta al mismo es porque tanto la posibilidad de esa percepción como la respuesta están contempladas en su organización.
Lo contrario sería equivalente a plantear la posibilidad de que la simple acción continua, o creciente, de una corriente eléctrica pudiera generar una máquina tal como un motor o incluso una simple bobina eléctrica.
En tanto que no podemos descartar la importancia para la evolución de fenómenos como los autoorganizativos, en los que un proceso físico-químico genera sus propias condiciones de frontera, esto es muy diferente de las propuestas lamarckianas, pues más que explicar el surgimiento de la organización éstas parecen asumirla a la hora de explicar el cambio adaptativo.</p>
<p>En segundo lugar, la idea de que la variación al azar sea un factor esencial en la generación de nuevos esquemas de organización conlleva varios problemas desde el punto de vista de la biosemiótica, pues, si entendemos la variación en términos absolutos, nada garantiza que la coordinación organismo-ambiente se siga manteniendo a través de las distintas variaciones.
En particular, si tomamos en cuenta cuáles son aquellos factores de significación, en términos de Uexküll, que determinan, por ejemplo, que un organismo identifique una presa, un depredador, o su pareja reproductiva, tales como un cierto patrón cromático, una determinada forma, un sonido peculiar, o una combinación de varios, la incorporación de variaciones al azar en el plan de construcción de este organismo difícilmente involucrará una mejora con respecto a la consumación de los círculos funcionales, o actividades, que desempeña, pues, para empezar, cada variación en el organismo tendrá que ser compensada por cambios en otras partes de manera que se siga manteniendo la coordinación, lo cual difícilmente podría ocurrir de manera azarosa.
De hecho, dependiendo de cómo esté estructurado el entorno de un organismo, parece más factible el pensar que esas variaciones provoquen errores, posiblemente catastróficos para el organismo, tales como la confusión de un elemento no comestible o incluso venenoso, con algo comestible.
No es necesario explicar que tal confusión difícilmente podría conducir a la generación de un nuevo plan de organización.</p>
<p>Una tercera opción, que no ha sido suficientemente explorada, es sugerida, al menos parcialmente, por Hoffmeyer.
De acuerdo con lo que él propone, también las poblaciones biológicas funcionan a manera de sistemas bajo control dual en los cuales el pool génico, esto es, el conjunto de variantes genéticas presentes en la población, funcionaría como condición de frontera (o determinaría las condiciones de frontera), mientras que las poblaciones, interactuando con un cierto entorno físico, equivaldrían a la codificación analógica de ese pool génico.</p>
<!-- > Eventually, the system will survive long enough to pass on its own copy of the digitalized memory (or part of it) to a new generation; this corresponds to a back-translation of the message to the digital form. -->
<!-- > But this latter process takes on its true significance only when seen at the level of the population. -->
<!-- > For it is the population (rather than the single organism) that passes on messages about conditions of life to the memory of the collective (the gene pool). -->
<!-- > The population could in this sense be considered a codification that itself expresses a message. -->
<!-- > This codification, however, is necessarily analog---since it has to interact with the physical surroundings, and thus must share with these surroundings the properties of physical extension and contiguity. (Hoffmeyer, 2008, p. 103) -->
<p>Esta propuesta de Hoffmeyer es notable, en primer lugar, porque rescata parte de la concepción poblacional asociada particularmente al darwinismo, sin embargo, a pesar de su parecido, introduce una diferencia con respecto a autores como Dawkins, Sober, o el mismo Mayr al aclarar que el tipo de interacción que se da entre las poblaciones y su entorno se relaciona con su concepción de codificación analógica.
En sus propios términos: “The population could in this sense be considered a codification that itself expresses a message.
This codification, however, is necessarily analog—since it has to interact with the physical surroundings, and thus must share with these surroundings the properties of physical extension and contiguity” <span class="citation" data-cites="EqbAXQLH">(<a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008, p. 103</a>)</span>.</p>
<p>Si bien la diferencia planteada por este autor con respecto a otros modelos poblacionales parece menor, esto es también porque requiere un mayor refinamiento en dos sentidos distintos.
En primer lugar tendríamos que examinar la cuestión de la legitimidad de la atribución de dualidad de código a las poblaciones biológicas, pues, en función de lo que hemos descrito con respecto a esta tesis, esto dependería o de la existencia de una cierta estructura en las poblaciones que nos permitiera aplicar hasta un cierto punto la idea de la interpretación orgánica, o de la existencia de una codificación digital que sirva de auto-referencia a la población y determine su estructura.
Este asunto no queda del todo claro en Hoffmeyer, aunque él ubica tal codificación en el pool génico.
Sin embargo, igual que ocurre con otros modelos como los de la autoorganización, o aquellos que se basan en la idea de selección natural, la aplicabilidad de las tesis propuestas por la biosemiótica a los distintos niveles de la realidad debería ser examinada caso por caso, aún cuando cierta pretensión expansionista sea comprensible desde la perspectiva de la dinámica científica.</p>
<!-- Si bien hay ciertas tensiones en este autor que podrían motivarla aplicación de la tesis de dualidad del código a las poblaciones biológicas podría resultar un poco forzada, pues en conjunto con su identificación del DNA con un sistema con dualidad de código, que mencionamos anteriormente y según la cual tanto las proteínas como el organismo corresponderían a codificaciones análogas, su aplicación a las poblaciones podría corresponder con una proliferación innecesaria de su modelo, equiparable con la idea, extrapolada de la síntesis moderna, de que la selección natural opera (y domina) en los más distintos niveles de la realidad. -->
<!-- En cualquier caso, la cuestión sobre los ámbitos de aplicación de la dualidad de código, de la selección natural, e incluso de la autoorganización es algo que sería necesario explorar de forma empírica. -->
<p>En segundo lugar, algo que está esbozado en la propuesta de Hoffmeyer, pero que él no desarrolla lo suficiente tiene que ver con el papel particular que le atribuye a la codificación analógica en este proceso, pues es ésta la que interactúa directamente con el entorno de un organismo, o más precisamente con sus objetos.
Así mismo, es en función de esa codificación analógica que se da la relación entre distintas especies, de tal manera que, en concordancia con lo que señala Uexküll, la telaraña que teje una araña es una codificación analógica de la mosca o de aquellas presas que le sirven como alimento.
Como sugiere Uexküll, esa codificación analógica es el patrón que guía la generación de la forma en cada especie <span class="citation" data-cites="DrMYyFdG">(<a href="#ref-DrMYyFdG" role="doc-biblioref">VON UEXKÜLL, 1982, pp. 65-68</a>)</span>; y podría aventurarse, siguiendo esta observación de Uexküll, que es precisamente la interacción analógica la que serviría de semilla para la construcción de nuevos planes de organización.
Este asunto parece pasar desapercibido para Hoffmeyer, quizás debido a su aceptación de una separación, al estilo de Weismann, entre ambas formas de codificación.
Sin embargo, aun cuando actualmente desconocemos cómo es que esto puede ocurrir, postulo que se trata de una de las vías más promisorias que se pueden plantear a partir de la biosemiótica y cuyas ramificaciones teóricas valdría la pena explorar.</p>
<p>Autores como Hoffmeyer y Kull <span class="citation" data-cites="14sQOAJD1 1FrmVIFmA bsEYD3vb">(<a href="#ref-14sQOAJD1" role="doc-biblioref">Kull, 1999</a>, <a href="#ref-1FrmVIFmA" role="doc-biblioref">2004</a>, <a href="#ref-bsEYD3vb" role="doc-biblioref">2013</a>)</span> han señalado ciertas concordancias entre las tesis de la biosemiótica y algunas propuestas recientes en la biología evolutiva, tales como la construcción de nicho, la idea de herencia extendida, la teoría de los sistemas en desarrollo, etc., y, ciertamente, la vinculación entre estas teorías y la biosemiótica podría producir un enriquecimiento mutuo.
De hecho, algunas de estas teorías recuperan elementos que ya estaban presentes en autores como Uexküll, tal como es el caso de algunas propuestas de Richard Lewontin, quien, tras examinar la relación entre los organismos, la genética y el ambiente afirma, entre otras cosas, que son los organismos los que seleccionan su ambiente y no al revés, lo cual tiene resonancias notables con las propuestas de Uexküll <span class="citation" data-cites="1EFJ65SWN qqp8XDdk">(<a href="#ref-qqp8XDdk" role="doc-biblioref">Lewontin, 1996</a>; <a href="#ref-1EFJ65SWN" role="doc-biblioref">Lewontin &amp; Lewontin, 2000</a>)</span>.</p>
<p>Pero independientemente de su concordancia con desarrollos recientes en la biología evolutiva, las acotaciones que señalé más arriba apuntan hacia la necesidad de una profunda revisión de la genética a la luz de las tesis de la biosemiótica y de los problemas abiertos en relación con la evolución, particularmente con el problema de la construcción de nuevos planes de organización (con sus propios círculos funcionales y sus factores de significación en coordinación con su entorno).
No es sino en este punto en el que cobra mayor sentido la denominación que ha recibido la biosemiótica, pues, como bien reconoce Polanyi, el código genético comparte características con un lenguaje de comunicación no solamente en el sentido del vocabulario que la biología ha seleccionado para referirse a los procesos en torno a la genética molecular, tales como la traducción, la transcripción, etc., sino en el sentido crucial de que se trata en efecto de un código natural que es interpretado por sistemas vivientes que a su vez, a lo largo de su desarrollo y de su vida entera se encargan de interpretar aquellos signos que perciben de su entorno y de reaccionar en consecuencia.</p>
<p>Si bien los avances técnicos en relación con la secuenciación han hecho revelaciones muy importantes en relación con la genealogía y la filogenia de distintas especies e incluso de los distintos componentes de las células eucariotas, estos avances se han conseguido esencialmente a partir del análisis sintáctico de las secuencias de DNA.
Aunque este análisis sintáctico es crucial para entender las relaciones a nivel molecular, es ciertamente limitado para dar cuenta de aspectos como el desarrollo y la evolución.
Con respecto a lo primero, tanto desde la biosemiótica como desde otras áreas, se han hecho propuestas para formular teorías semánticas <span class="citation" data-cites="1Euuo5OVB">(<a href="#ref-1Euuo5OVB" role="doc-biblioref">Jablonka, 2002</a>)</span> o incluso semióticas <span class="citation" data-cites="3ovQ5JAS EqbAXQLH">(<a href="#ref-3ovQ5JAS" role="doc-biblioref">Hitchcock, 2004</a>; <a href="#ref-EqbAXQLH" role="doc-biblioref">Hoffmeyer &amp; Hoffmeyer, 2008</a>)</span> de la genética del desarrollo que resultan promisorias y que podrían en efecto dar cuenta de los procesos biológicos de interpretación que Hoffmeyer y amplios sectores de la biosemiótica echan de menos en la biología contemporánea.
Por otro lado, el esclarecimiento de la manera en que se establecen convenciones naturales por medio de procesos biológicos de codificación hacia los que apunta Barbieri pareciera requerir otros recursos teóricos, adicionales a los que la síntesis evolutiva moderna e incluso la así llamada síntesis extendida nos han proporcionado hasta ahora.</p>
<p>En particular, como sugiere Uexküll, la clave de este fenómeno podría estar en el ámbito de la codificación analógica, como le llama Hoffmeyer, más que en el de los códigos digitales; lo cual apunta ya hacia dos áreas de la biología contemporánea que han quedado incluso más relegadas de los debates sobre la evolución que el tema del desarrollo embrionario: la fisiología y la ecología.
A diferencia de áreas como la genética, la embriología y la biología evolutiva, tanto la fisiología como la ecología se enfocan de manera preponderante en las interacciones analógicas, aunque frecuentemente se les aborda desde el punto de vista de otras ciencias como la física, la química, la geología, la geografía, etc.
Si bien tales perspectivas no carecen de importancia, de la misma manera que la consideración de la genética como una genuina teoría biológica de la interpretación puede producir avances importantes, la consideración de la fisiología y de la ecología desde el punto de vista de su relación con la organización no solamente podría producir perspectivas novedosas, sino que podría además ser crucial para resolver el problema de la evolución de esos esquemas organizativos, del origen de nuevas especies y, ¿por qué no?, de nuevos sistemas ecológicos; todos ellos problemas sumamente relevantes para comprender y enfrentar las crisis a las que nos enfrentamos actualmente en relación con el cambio climático.</p>
<h2 id="conclusiones">Conclusiones</h2>
<p>Hace ya más de medio siglo Ernst Mayr creía estar en posesión de la respuesta a la pregunta sobre dónde sí y dónde no era legítimo hablar de propósito y de intencionalidad (<em>purposefulness</em>) en la naturaleza.
Su respuesta, como es más o menos bien conocido, recaía en la idea de programa informático <span class="citation" data-cites="kuqja85O">(<a href="#ref-kuqja85O" role="doc-biblioref">Mayr, 1961, p. 1503</a>)</span>.
Todo sistema programado puede actuar en concordancia con un propósito.</p>
<p>Como hemos intentado mostrar aquí, la biosemiótica da una respuesta alternativa, de acuerdo con la cual aquellos sistemas bajo control dual, en los cuales la organización sea un factor importante para explicar el comportamiento del sistema, hacen legítimo el preguntarnos con respecto a cuáles son los efectos de esa organización, introduciendo así una perspectiva axiológica.
Sin embargo, como bien señala Polanyi, la adopción de esa perspectiva no excluye una perspectiva más tradicional, más en concordancia con la metodología experimental, según la cual nuestro interés recae ya no propiamente en esa organización, sino en los procesos a los que ella sirve como condición de frontera.
La diferencia entre ambas perspectivas es puramente pragmática y, además, es compatible, como este mismo autor señala, con una concepción gradualista, pues una determinada organización puede ser más o menos efectiva en sujetar (<em>harness</em>) los procesos que ocurren en su interior.
De manera equivalente podríamos afirmar que conforme ese control se vuelve menor, tanto la organización como sus efectos van perdiendo importancia hasta llegar un punto en el que no tiene sentido aplicar el término “organizado”.</p>
<p>Para Mayr, como para otros autores, la idea de que las secuencias genéticas consisten en un programa o una especie de plan del organismo parece ser suficiente para dividir a la biología en dos áreas, una que comprende a la genética y a aquellos aspectos relacionados con la operación de la selección natural, y otra que comprende el estudio de todo aquello que es el resultado de la ejecución de ese programa genético.
Así, para Mayr, el metabolismo de los organismos, su conducta, su fisiología, e incluso sus relaciones ecológicas, no solamente son, o deberían, ser explicadas en términos del programa genético, sino que, por eso mismo, carecen de relevancia para explicar el origen y la configuración particular del programa genético de las siguientes generaciones.</p>
<!--Esto se relaciona con el problema de la creatividad de la SN. En particular, desde esta concepción pareciera ser que la SN es un proceso estrictamente poblacional, en el cual los individuos no tienen ninguna participación. Serían más bien las características del pool génico en una generación las que explicarían los cambios en ese mismo nivel, el del pool génico.-->
<p>Si bien la propuesta de Hoffmeyer, de la dualidad de código, apunta también en la dirección de una distinción metodológica relativa a los ámbitos de la codificación digital y de la codificación analógica, esta separación no conlleva una jerarquización como la que de manera implícita pareciera sugerir Mayr, sino que, por el contrario, se trata más bien de dos dominios complementarios.
Uexküll señala esto también de manera explícita cuando afirma que tanto aquello que ocurre en el interior del organismo como aquello que ocurre en el exterior debería ser estudiado desde el punto de vista de la organización.
Así, podemos ver que el estudio del ámbito de la codificación digital se ha ido aproximando de manera paulatina a lo que tanto Uexküll, como Polanyi, Sarkar y otros autores concibieron como un genuino sistema biológico de interpretación, en el que, para emplear una idea sugerida por Polanyi, las secuencias genéticas <em>evocan</em>, más que determinan, en el sentido que piensa Mayr, los ritmos, las transiciones y las características de los organismos.</p>
<p>Por otro lado, el estudio de lo que Hoffmeyer denomina como el ámbito analógico, pareciera ser un campo igual de promisorio para la biología del siglo XXI que el de los códigos digitales, pues conlleva, en efecto (como señala Polanyi), el estudio de los procesos físicos y químicos, de la geografía, la geología, la meteorología e incluso la astronomía, áreas tradicionales de estudio de las ciencias físicas, así como de la ecología y la fisiología, pero desde la perspectiva de los <em>affordances</em>, esto es, de su capacidad tanto de constituir signos perceptuales, como de establecerse como tales, así como de servir de puntos de anclaje, por llamarlos de alguna manera, sobre los que pueda incidir la acción biológica.</p>
<p>En conclusión, incluso una versión minimalista de la biosemiótica, como la que hemos intentado describir aquí, que se articula a partir de solamente dos tesis centrales, ya nos permite delinear una teoría biológica que puede hacer contribuciones sustantivas a la biología del siglo XXI y que puede dialogar y entrar en competencia también con otras teorías alternativas.</p>
<h2 class="page_break_before" id="references">References</h2>
<!-- Explicitly insert bibliography here -->
<div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="doc-bibliography">
<div id="ref-FUBA4hgk" class="csl-entry" role="doc-biblioentry">
Anderson, M., &amp; Merrell, F. (Eds.). (1991). <em>On semiotic modeling</em>. Mouton de Gruyter.
</div>
<div id="ref-17TQyAtcG" class="csl-entry" role="doc-biblioentry">
Barbieri, M. (2008a). Biosemiotics: a new understanding of life. <em>Naturwissenschaften</em>, <em>95</em>(7), 577-599. <a href="https://doi.org/10.1007/s00114-008-0368-x">https://doi.org/10.1007/s00114-008-0368-x</a>
</div>
<div id="ref-ihWPbtwE" class="csl-entry" role="doc-biblioentry">
Barbieri, M. (2008b). The Mechanisms of Evolution: Natural Selection and Natural Conventions. En <em>Biosemiotics</em> (pp. 15-35). Springer Netherlands. <a href="https://doi.org/10.1007/978-1-4020-6340-4_2">https://doi.org/10.1007/978-1-4020-6340-4_2</a>
</div>
<div id="ref-1ECXYs1vk" class="csl-entry" role="doc-biblioentry">
Barbieri, M. (2009). A Short History of Biosemiotics. <em>Biosemiotics</em>, <em>2</em>(2), 221-245. <a href="https://doi.org/10.1007/s12304-009-9042-8">https://doi.org/10.1007/s12304-009-9042-8</a>
</div>
<div id="ref-CUbLggqm" class="csl-entry" role="doc-biblioentry">
Bernstein, J. H. (2015). Transdisciplinarity: A Review of Its Origins, Development, and Current Issues. <em>Journal of Research Practice</em>, <em>11</em>(1), R1-R1. <a href="http://jrp.icaap.org/index.php/jrp/article/view/510">http://jrp.icaap.org/index.php/jrp/article/view/510</a>
</div>
<div id="ref-iWTyQl69" class="csl-entry" role="doc-biblioentry">
Brentari, C., &amp; Brentari, C. (2015). <em>Jakob von Uexküll: the discovery of the umwelt between biosemiotics and theoretical biology</em>. Springer.
</div>
<div id="ref-v4zOjEho" class="csl-entry" role="doc-biblioentry">
Caponi, G. (2013). Teleología Naturalizada (Naturalized Teleology): Los conceptos de función, aptitud y adaptación en la Teoría de la Selección Natural (The concepts of function, fitness and adaptation in Natural Selection Theory). <em>Theoria: An International Journal for Theory, History and Foundations of Science</em>, <em>28</em>(1), 97-114. <a href="https://www.pdcnet.org/pdc/bvdb.nsf/purchase?openform&amp;fp=theoria&amp;id=theoria_2013_0028_0001_0097_0114">https://www.pdcnet.org/pdc/bvdb.nsf/purchase?openform&amp;fp=theoria&amp;id=theoria_2013_0028_0001_0097_0114</a>
</div>
<div id="ref-1GkUZdQtY" class="csl-entry" role="doc-biblioentry">
Dobzhansky, T. (1973). Nothing in Biology Makes Sense except in the Light of Evolution. <em>The American Biology Teacher</em>, <em>35</em>(3), 125-129. <a href="https://doi.org/10.2307/4444260">https://doi.org/10.2307/4444260</a>
</div>
<div id="ref-ZvP1qF4C" class="csl-entry" role="doc-biblioentry">
Favareau, D. (2009). Introduction: An Evolutionary History of Biosemiotics. En <em>Biosemiotics</em> (pp. 1-77). Springer Netherlands. <a href="https://doi.org/10.1007/978-1-4020-9650-1_1">https://doi.org/10.1007/978-1-4020-9650-1_1</a>
</div>
<div id="ref-SrtRgdfl" class="csl-entry" role="doc-biblioentry">
Favareau, D. (Ed.). (2010). <em>Essential readings in biosemiotics: anthology and commentary</em>. Springer.
</div>
<div id="ref-16UDFCguE" class="csl-entry" role="doc-biblioentry">
Gibbons, M. (1994). <em>The new production of knowledge: the dynamics of science and research in contemporary societies</em>. SAGE Publications.
</div>
<div id="ref-9uUCimkt" class="csl-entry" role="doc-biblioentry">
Ginnobili, S. (1970). Reconstrucción estructuralista de la teoría de la selección natural. <em>Agora: papeles de Filosofía</em>, <em>31</em>(2). <a href="https://doi.org/10.15304/ag.31.2.1055">https://doi.org/10.15304/ag.31.2.1055</a>
</div>
<div id="ref-jR3eBnkS" class="csl-entry" role="doc-biblioentry">
Ginnobili, S. (2010). La teoría de la selección natural darwiniana. <em>THEORIA</em>, <em>25</em>(1), 37-58. <a href="https://doi.org/10.1387/theoria.490">https://doi.org/10.1387/theoria.490</a>
</div>
<div id="ref-3ovQ5JAS" class="csl-entry" role="doc-biblioentry">
Hitchcock, C. (Ed.). (2004). <em>Contemporary debates in philosophy of science</em>. Blackwell Pub.
</div>
<div id="ref-EqbAXQLH" class="csl-entry" role="doc-biblioentry">
Hoffmeyer, J., &amp; Hoffmeyer, J. (2008). <em>Biosemiotics: an examination into the signs of life and the life of signs</em>. University of Scranton Press.
</div>
<div id="ref-1Euuo5OVB" class="csl-entry" role="doc-biblioentry">
Jablonka, E. (2002). Information: Its Interpretation, Its Inheritance, and Its Sharing. <em>Philosophy of Science</em>, <em>69</em>(4), 578-605. <a href="https://doi.org/10.1086/344621">https://doi.org/10.1086/344621</a>
</div>
<div id="ref-14sQOAJD1" class="csl-entry" role="doc-biblioentry">
Kull, K. (1999). Umwelt and evolution: from Uexküll to post-Darwinism. En E. Taborsky (Ed.), <em>Semiosis. Evolution. Energy: Towards a Reconceptualization of the Sign</em> (pp. 53-70). Shaker.
</div>
<div id="ref-1DnVyaRmY" class="csl-entry" role="doc-biblioentry">
Kull, K. (Ed.). (2001). Jakob von Uexküll: An introduction. <em>Semi</em>, <em>2001</em>(134), 1-59. <a href="https://doi.org/10.1515/semi.2001.013">https://doi.org/10.1515/semi.2001.013</a>
</div>
<div id="ref-1FrmVIFmA" class="csl-entry" role="doc-biblioentry">
Kull, K. (2004). Uexküll and the post-modern evolutionism. <em>Sign Systems Studies</em>, <em>32</em>(1/2), 99-114. <a href="https://www.pdcnet.org/pdc/bvdb.nsf/purchase?openform&amp;fp=signsystems&amp;id=signsystems_2004_0032_40910_0099_0114">https://www.pdcnet.org/pdc/bvdb.nsf/purchase?openform&amp;fp=signsystems&amp;id=signsystems_2004_0032_40910_0099_0114</a>
</div>
<div id="ref-bsEYD3vb" class="csl-entry" role="doc-biblioentry">
Kull, K. (2013). Adaptive evolution without natural selection. <em>Biological Journal of the Linnean Society</em>, <em>112</em>(2), 287-294. <a href="https://doi.org/10.1111/bij.12124">https://doi.org/10.1111/bij.12124</a>
</div>
<div id="ref-LhygdvHH" class="csl-entry" role="doc-biblioentry">
Langton, C. G. (Ed.). (2000). <em>Artificial life: an overview</em> (5. print). MIT Press.
</div>
<div id="ref-qqp8XDdk" class="csl-entry" role="doc-biblioentry">
Lewontin, R. C. (1996). Evolution as Engineering. En <em>Integrative Approaches to Molecular Biology</em> (pp. 1-10). The MIT Press. <a href="https://doi.org/10.7551/mitpress/3824.003.0002">https://doi.org/10.7551/mitpress/3824.003.0002</a>
</div>
<div id="ref-1EFJ65SWN" class="csl-entry" role="doc-biblioentry">
Lewontin, R. C., &amp; Lewontin, R. C. (2000). <em>The triple helix: gene, organism, and environment</em>. Harvard University Press.
</div>
<div id="ref-ekVg4uzi" class="csl-entry" role="doc-biblioentry">
Maynard Smith, J. (1999). <em>Shaping life: genes, embryos, and evolution</em>. Yale University Press.
</div>
<div id="ref-17SXoXRQA" class="csl-entry" role="doc-biblioentry">
Maynard Smith, J., &amp; Szathmáry, E. (2010). <em>The major transitions in evolution</em> (Reprinted). Oxford Univ. Press.
</div>
<div id="ref-kuqja85O" class="csl-entry" role="doc-biblioentry">
Mayr, E. (1961). Cause and Effect in Biology. <em>Science</em>, <em>134</em>(3489), 1501-1506. <a href="https://doi.org/10.1126/science.134.3489.1501">https://doi.org/10.1126/science.134.3489.1501</a>
</div>
<div id="ref-107ubuTL4" class="csl-entry" role="doc-biblioentry">
Michelini, F., &amp; Köchy, K. (Eds.). (2020). <em>Jakob von Uexküll and philosophy: life, environments, anthropology</em>. Routledge/Taylor &amp; Francis Group.
</div>
<div id="ref-17HSgYcEE" class="csl-entry" role="doc-biblioentry">
Mildenberger, F. (2007). <em>Umwelt als Vision: Leben und Werk Jakob von Uexkülls (1864-1944)</em>. F. Steiner.
</div>
<div id="ref-j0BgISRh" class="csl-entry" role="doc-biblioentry">
Morin, E. (1982). <em>Science avec conscience</em>. Fayard.
</div>
<div id="ref-2dB95zQK" class="csl-entry" role="doc-biblioentry">
Nicolescu, B. (1996). <em>La transdisciplinarité: manifeste</em>. Editions du Rocher.
</div>
<div id="ref-3zHibsSh" class="csl-entry" role="doc-biblioentry">
Oparin, A. I., Morgulis, S., &amp; Oparin, A. I. (1965). <em>The origin of life</em> (2. ed. with a new introd. by the translator, republ). Dover.
</div>
<div id="ref-m7Vdb8jQ" class="csl-entry" role="doc-biblioentry">
Orzack, S., &amp; Sober, E. (Eds.). (2001). <em>Adaptationism and optimality</em>. Cambridge University Press.
</div>
<div id="ref-bhNCs7h4" class="csl-entry" role="doc-biblioentry">
Piaget, J. (1972). The Epistemology of Interdisciplinary Relationships. En <em>Interdisciplinarity: Problems of Teaching and Research in Universities</em> (pp. 127-139). OECD Publications Center, Suite 1207, 1750 Pennsylvania Avenue, N. <a href="https://eric.ed.gov/?id=ED061895">https://eric.ed.gov/?id=ED061895</a>
</div>
<div id="ref-4b7Dbsp4" class="csl-entry" role="doc-biblioentry">
Polanyi, M. (1968). Life's Irreducible Structure. <em>Science</em>, <em>160</em>(3834), 1308-1312. <a href="https://doi.org/10.1126/science.160.3834.1308">https://doi.org/10.1126/science.160.3834.1308</a>
</div>
<div id="ref-hW5TSQKV" class="csl-entry" role="doc-biblioentry">
Ponce de León, M. (1987). <em>La explicación teleológica</em> (1.ed ed.). UNAM, Inst.de Investigaciones Filosóficas.
</div>
<div id="ref-HdDZkiNh" class="csl-entry" role="doc-biblioentry">
Ponce, M. (1981). Las explicaciones teleológicas y el modelo nomológico-deductivo. <em>Diánoia</em>, <em>27</em>(27), 186-206.
</div>
<div id="ref-1CNrSP8PL" class="csl-entry" role="doc-biblioentry">
Ponce, M. (1984). Teleología y causalidad. <em>Revista de filosofía DIÁNOIA</em>, <em>30</em>(30), 155. <a href="https://doi.org/10.22201/iifs.18704913e.1984.30.771">https://doi.org/10.22201/iifs.18704913e.1984.30.771</a>
</div>
<div id="ref-FBpWxR8o" class="csl-entry" role="doc-biblioentry">
Rama, T. (2024). The Explanatory Role of Umwelt in Evolutionary Theory: Introducing von Baer’s Reflections on Teleological Development. <em>Biosemiotics</em>. <a href="https://doi.org/10.1007/s12304-024-09569-8">https://doi.org/10.1007/s12304-024-09569-8</a>
</div>
<div id="ref-BMp0oHpu" class="csl-entry" role="doc-biblioentry">
Rüting, T. (2004). History and significance of Jakob von Uexküll and of his institute in Hamburg. <em>Sign Systems Studies</em>, <em>32</em>(1/2), 35-72. <a href="https://doi.org/10.12697/sss.2004.32.1-2.02">https://doi.org/10.12697/sss.2004.32.1-2.02</a>
</div>
<div id="ref-6jIXtLW0" class="csl-entry" role="doc-biblioentry">
Sarkar, S. (Ed.). (1996). <em>The Philosophy and history of molecular biology: new perspectives</em>. Kluwer Academic.
</div>
<div id="ref-KUESt8Db" class="csl-entry" role="doc-biblioentry">
Smith, J. M. (1978). Optimization Theory in Evolution. <em>Annual Review of Ecology and Systematics</em>, <em>9</em>, 31-56. <a href="https://www.jstor.org/stable/2096742">https://www.jstor.org/stable/2096742</a>
</div>
<div id="ref-YObLsYip" class="csl-entry" role="doc-biblioentry">
Stjernfelt, F. (2002). Biosemiotics as expressed in 22 basic hypotheses. <em>Sign Systems Studies</em>, <em>30</em>(1), 337-345.
</div>
<div id="ref-bl6lqIrT" class="csl-entry" role="doc-biblioentry">
Suárez Pascal, C. D. (2015). <em>El valor de la vida :finalidad y causalidad en las explicaciones de la biología evolutiva contemporánea</em> [Doctorado]. Universidad Nacional Autónoma de México.
</div>
<div id="ref-DI7UW0KI" class="csl-entry" role="doc-biblioentry">
Suárez Pascal, C. D. (2021). N. R. Hanson and von Uexküll: A Biosemiotic and Evolutionary Account of Theories. <em>Journal for General Philosophy of Science</em>, <em>52</em>(2), 247-261. <a href="https://doi.org/10.1007/s10838-021-09552-8">https://doi.org/10.1007/s10838-021-09552-8</a>
</div>
<div id="ref-olmms1HW" class="csl-entry" role="doc-biblioentry">
Terzis, G., &amp; Arp, R. (Eds.). (2011). <em>Information and living systems: philosophical and scientific perspectives</em>. MIT Press.
</div>
<div id="ref-5gFnGN3M" class="csl-entry" role="doc-biblioentry">
Van Fraassen, B. C. (1980). <em>The scientific image</em>. Clarendon Press ; Oxford University Press.
</div>
<div id="ref-d0ent6E7" class="csl-entry" role="doc-biblioentry">
von Uexküll, J. (1927). Die Einpassung. En <em>Allgemeine Physiologie</em> (pp. 693-701). Springer Berlin Heidelberg. <a href="https://doi.org/10.1007/978-3-642-91036-4_15">https://doi.org/10.1007/978-3-642-91036-4_15</a>
</div>
<div id="ref-163PNLUMD" class="csl-entry" role="doc-biblioentry">
von Uexküll, J. (1928). <em>Theoretische Biologie</em>. Springer Berlin Heidelberg. <a href="https://doi.org/10.1007/978-3-662-36634-9">https://doi.org/10.1007/978-3-662-36634-9</a>
</div>
<div id="ref-DrMYyFdG" class="csl-entry" role="doc-biblioentry">
VON UEXKÜLL, J. (1982). The Theory of Meaning. <em>Semiotica</em>, <em>42</em>(1). <a href="https://doi.org/10.1515/semi.1982.42.1.25">https://doi.org/10.1515/semi.1982.42.1.25</a>
</div>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Entre las pocas obras que abordan la historia de esta joven disciplina está un capítulo de Donald Favareau <span class="citation" data-cites="ZvP1qF4C">(<a href="#ref-ZvP1qF4C" role="doc-biblioref">Favareau, 2009</a>)</span> y un artículo de Marcello Barbieri <span class="citation" data-cites="1ECXYs1vk">(<a href="#ref-1ECXYs1vk" role="doc-biblioref">Barbieri, 2009</a>)</span>. De entre quienes han participado de manera directa en el desarrollo de está disciplina quien más atención ha recibido es Jakob von Uexküll, sobre la historia y el pensamiento de quien se han publicado al menos los libros de Florian Mildenberger <span class="citation" data-cites="17HSgYcEE">(<a href="#ref-17HSgYcEE" role="doc-biblioref">Mildenberger, 2007</a>)</span>, Carlo Brentari <span class="citation" data-cites="iWTyQl69">(<a href="#ref-iWTyQl69" role="doc-biblioref">Brentari &amp; Brentari, 2015</a>)</span>, varios artículos <span class="citation" data-cites="BMp0oHpu 1DnVyaRmY">(<a href="#ref-1DnVyaRmY" role="doc-biblioref">Kull, 2001</a>; <a href="#ref-BMp0oHpu" role="doc-biblioref">Rüting, 2004</a>)</span>, y una compilación sobre su relación con la filosofía <span class="citation" data-cites="107ubuTL4">(<a href="#ref-107ubuTL4" role="doc-biblioref">Michelini &amp; Köchy, 2020</a>)</span>, entre otros.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>El concepto de transdisciplina fue propuesto originalmente por Piaget <span class="citation" data-cites="bhNCs7h4">(<a href="#ref-bhNCs7h4" role="doc-biblioref">Piaget, 1972</a>)</span> y fue desarrollado por Morin <span class="citation" data-cites="j0BgISRh">(<a href="#ref-j0BgISRh" role="doc-biblioref">Morin, 1982</a>)</span> y por Nicolescu <span class="citation" data-cites="2dB95zQK">(<a href="#ref-2dB95zQK" role="doc-biblioref">Nicolescu, 1996</a>)</span> como una ambiciosa propuesta metateórica (o meta-metateórica), y por Gibbons, Limoges, Nowotny, Schwartzman, Scott &amp; Trow <span class="citation" data-cites="16UDFCguE">(<a href="#ref-16UDFCguE" role="doc-biblioref">Gibbons, 1994</a>)</span> como una propuesta también metateórica pero más enfocada en las condiciones actuales de producción del conocimiento <span class="citation" data-cites="CUbLggqm">(<a href="#ref-CUbLggqm" role="doc-biblioref">Bernstein, 2015</a>)</span>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>En contra de lo señalado por Stjernfelt, Hoffmeyer argumenta, en su libro de 2008, a favor de entender el componente analógico de los seres vivos no solamente en términos de procesos físico-químicos, sino en términos de códigos análogos.
Si bien se trata de una diferencia aparentemente sutil con respecto a la posición de Polanyi y de otros autores, este señalamiento de Hoffmeyer colocaría su versión de la dualidad de código más cerca de la propuesta de Uexküll.
Como señalaremos más adelante, la idea de la codificación analógica constituye una contribución particularmente importante a la biología.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Aunque esta crítica podría parecer reminiscente de ciertas posturas anti-darwinistas que surgieron particularmente durante la segunda mitad del siglo XIX y a principios del siglo XX, hay varios autores que se han topado con problemas análogos en relación con el análisis filosófico del concepto de función biológica <span class="citation" data-cites="HdDZkiNh 1CNrSP8PL hW5TSQKV v4zOjEho bl6lqIrT">(<a href="#ref-v4zOjEho" role="doc-biblioref">Caponi, 2013</a>; <a href="#ref-hW5TSQKV" role="doc-biblioref">Ponce de León, 1987</a>; <a href="#ref-HdDZkiNh" role="doc-biblioref">Ponce, 1981</a>, <a href="#ref-1CNrSP8PL" role="doc-biblioref">1984</a>; <a href="#ref-bl6lqIrT" role="doc-biblioref">Suárez Pascal, 2015</a>)</span> y en relación con la reconstrucción de las propuestas originales de Darwin respecto a la operación de la selección natural <span class="citation" data-cites="jR3eBnkS 9uUCimkt">(<a href="#ref-9uUCimkt" role="doc-biblioref">Ginnobili, 1970</a>, <a href="#ref-jR3eBnkS" role="doc-biblioref">2010</a>)</span>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<!-- default theme -->

<style>
  /* import google fonts */
  @import url("https://fonts.googleapis.com/css?family=Open+Sans:400,600,700");
  @import url("https://fonts.googleapis.com/css?family=Source+Code+Pro");

  /* -------------------------------------------------- */
  /* global */
  /* -------------------------------------------------- */

  /* all elements */
  * {
    /* force sans-serif font unless specified otherwise */
    font-family: "Open Sans", "Helvetica", sans-serif;

    /* prevent text inflation on some mobile browsers */
    -webkit-text-size-adjust: none !important;
    -moz-text-size-adjust: none !important;
    -o-text-size-adjust: none !important;
    text-size-adjust: none !important;
  }

  @media only screen {
    /* "page" element */
    body {
      position: relative;
      box-sizing: border-box;
      font-size: 12pt;
      line-height: 1.5;
      max-width: 8.5in;
      margin: 20px auto;
      padding: 40px;
      border-radius: 5px;
      border: solid 1px #bdbdbd;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
      background: #ffffff;
    }
  }

  /* when on screen < 8.5in wide */
  @media only screen and (max-width: 8.5in) {
    /* "page" element */
    body {
      padding: 20px;
      margin: 0;
      border-radius: 0;
      border: none;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05) inset;
      background: none;
    }
  }

  /* -------------------------------------------------- */
  /* headings */
  /* -------------------------------------------------- */

  /* all headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 20px 0;
    padding: 0;
    font-weight: bold;
  }

  /* biggest heading */
  h1 {
    margin: 40px 0;
    text-align: center;
  }

  /* second biggest heading */
  h2 {
    margin-top: 30px;
    padding-bottom: 5px;
    border-bottom: solid 1px #bdbdbd;
  }

  /* heading font sizes */
  h1 {
    font-size: 2em;
  }
  h2 {
    font-size: 1.5em;
  }
  h3 {
    font-size: 1.35em;
  }
  h4 {
    font-size: 1.25em;
  }
  h5 {
    font-size: 1.15em;
  }
  h6 {
    font-size: 1em;
  }

  /* -------------------------------------------------- */
  /* manuscript header */
  /* -------------------------------------------------- */

  /* manuscript title */
  header > h1 {
    margin: 0;
  }

  /* manuscript title caption text (ie "automatically generated on") */
  header + p {
    text-align: center;
    margin-top: 10px;
  }

  /* -------------------------------------------------- */
  /* text elements */
  /* -------------------------------------------------- */

  /* links */
  a {
    color: #2196f3;
    overflow-wrap: break-word;
  }

  /* superscripts and subscripts */
  sub,
  sup {
    /* prevent from affecting line height */
    line-height: 0;
  }

  /* unordered and ordered lists*/
  ul,
  ol {
    padding-left: 20px;
  }

  /* class for styling text semibold */
  .semibold {
    font-weight: 600;
  }

  /* class for styling elements horizontally left aligned */
  .left {
    display: block;
    text-align: left;
    margin-left: auto;
    margin-right: 0;
    justify-content: left;
  }

  /* class for styling elements horizontally centered */
  .center {
    display: block;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
  }

  /* class for styling elements horizontally right aligned */
  .right {
    display: block;
    text-align: right;
    margin-left: 0;
    margin-right: auto;
    justify-content: right;
  }

  /* -------------------------------------------------- */
  /* section elements */
  /* -------------------------------------------------- */

  /* horizontal divider line */
  hr {
    border: none;
    height: 1px;
    background: #bdbdbd;
  }

  /* paragraphs, horizontal dividers, figures, tables, code */
  p,
  hr,
  figure,
  table,
  pre {
    /* treat all as "paragraphs", with consistent vertical margins */
    margin-top: 20px;
    margin-bottom: 20px;
  }

  /* -------------------------------------------------- */
  /* figures */
  /* -------------------------------------------------- */

  /* figure */
  figure {
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
  }

  /* figure caption */
  figcaption {
    padding: 0;
    padding-top: 10px;
  }

  /* figure image element */
  figure > img,
  figure > svg {
    max-width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  /* figure auto-number */
  img + figcaption > span:first-of-type,
  svg + figcaption > span:first-of-type {
    font-weight: bold;
    margin-right: 5px;
  }

  /* -------------------------------------------------- */
  /* tables */
  /* -------------------------------------------------- */

  /* table */
  table {
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
    margin-left: auto;
    margin-right: auto;
  }

  /* table cells */
  th,
  td {
    border: solid 1px #bdbdbd;
    padding: 10px;
    /* squash table if too wide for page by forcing line breaks */
    overflow-wrap: break-word;
    word-break: break-word;
  }

  /* header row and even rows */
  th,
  tr:nth-child(2n) {
    background-color: #fafafa;
  }

  /* odd rows */
  tr:nth-child(2n + 1) {
    background-color: #ffffff;
  }

  /* table caption */
  caption {
    text-align: left;
    padding: 0;
    padding-bottom: 10px;
  }

  /* table auto-number */
  table > caption > span:first-of-type {
    font-weight: bold;
    margin-right: 5px;
  }

  /* -------------------------------------------------- */
  /* code */
  /* -------------------------------------------------- */

  /* multi-line code block */
  pre {
    padding: 10px;
    background-color: #eeeeee;
    color: #000000;
    border-radius: 5px;
    break-inside: avoid;
    text-align: left;
  }

  /* inline code, ie code within normal text */
  :not(pre) > code {
    padding: 0 4px;
    background-color: #eeeeee;
    color: #000000;
    border-radius: 5px;
  }

  /* code text */
  /* apply all children, to reach syntax highlighting sub-elements */
  code,
  code * {
    /* force monospace font */
    font-family: "Source Code Pro", "Courier New", monospace;
  }

  /* -------------------------------------------------- */
  /* quotes */
  /* -------------------------------------------------- */

  /* quoted text */
  blockquote {
    margin: 0;
    padding: 0;
    border-left: 4px solid #bdbdbd;
    padding-left: 16px;
    break-inside: avoid;
  }

  /* -------------------------------------------------- */
  /* banners */
  /* -------------------------------------------------- */

  /* info banners */
  .banner {
    box-sizing: border-box;
    display: block;
    position: relative;
    width: 100%;
    margin-top: 20px;
    margin-bottom: 20px;
    padding: 20px;
    text-align: center;
  }

  /* paragraph in banner */
  .banner > p {
    margin: 0;
  }

  /* -------------------------------------------------- */
  /* highlight colors */
  /* -------------------------------------------------- */

  .white {
    background: #ffffff;
  }
  .lightgrey {
    background: #eeeeee;
  }
  .grey {
    background: #757575;
  }
  .darkgrey {
    background: #424242;
  }
  .black {
    background: #000000;
  }
  .lightred {
    background: #ffcdd2;
  }
  .lightyellow {
    background: #ffecb3;
  }
  .lightgreen {
    background: #dcedc8;
  }
  .lightblue {
    background: #e3f2fd;
  }
  .lightpurple {
    background: #f3e5f5;
  }
  .red {
    background: #f44336;
  }
  .orange {
    background: #ff9800;
  }
  .yellow {
    background: #ffeb3b;
  }
  .green {
    background: #4caf50;
  }
  .blue {
    background: #2196f3;
  }
  .purple {
    background: #9c27b0;
  }
  .white,
  .lightgrey,
  .lightred,
  .lightyellow,
  .lightgreen,
  .lightblue,
  .lightpurple,
  .orange,
  .yellow,
  .white a,
  .lightgrey a,
  .lightred a,
  .lightyellow a,
  .lightgreen a,
  .lightblue a,
  .lightpurple a,
  .orange a,
  .yellow a {
    color: #000000;
  }
  .grey,
  .darkgrey,
  .black,
  .red,
  .green,
  .blue,
  .purple,
  .grey a,
  .darkgrey a,
  .black a,
  .red a,
  .green a,
  .blue a,
  .purple a {
    color: #ffffff;
  }

  /* -------------------------------------------------- */
  /* buttons */
  /* -------------------------------------------------- */

  /* class for styling links like buttons */
  .button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    margin: 5px;
    padding: 10px 20px;
    font-size: 0.75em;
    font-weight: 600;
    text-transform: uppercase;
    text-decoration: none;
    letter-spacing: 1px;
    background: none;
    color: #2196f3;
    border: solid 1px #bdbdbd;
    border-radius: 5px;
  }

  /* buttons when hovered */
  .button:hover:not([disabled]),
  .icon_button:hover:not([disabled]) {
    cursor: pointer;
    background: #f5f5f5;
  }

  /* buttons when disabled */
  .button[disabled],
  .icon_button[disabled] {
    opacity: 0.35;
    pointer-events: none;
  }

  /* class for styling buttons containg only single icon */
  .icon_button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    margin: 0;
    padding: 0;
    background: none;
    border-radius: 5px;
    border: none;
    width: 20px;
    height: 20px;
    min-width: 20px;
    min-height: 20px;
  }

  /* icon button inner svg image */
  .icon_button > svg {
    height: 16px;
  }

  /* -------------------------------------------------- */
  /* icons */
  /* -------------------------------------------------- */

  /* class for styling icons inline with text */
  .inline_icon {
    height: 1em;
    position: relative;
    top: 0.125em;
  }

  /* -------------------------------------------------- */
  /* references */
  /* -------------------------------------------------- */

  .csl-entry {
    margin-top: 15px;
    margin-bottom: 15px;
  }

  /* -------------------------------------------------- */
  /* print control */
  /* -------------------------------------------------- */

  @media print {
    @page {
      /* suggested printing margin */
      margin: 0.5in;
    }

    /* document and "page" elements */
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    /* "page" element */
    body {
      font-size: 11pt !important;
      line-height: 1.35;
    }

    /* all headings */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 15px 0;
    }

    /* figures and tables */
    figure,
    table {
      font-size: 0.85em;
    }

    /* table cells */
    th,
    td {
      padding: 5px;
    }

    /* shrink font awesome icons */
    i.fas,
    i.fab,
    i.far,
    i.fal {
      transform: scale(0.85);
    }

    /* decrease banner margins */
    .banner {
      margin-top: 15px;
      margin-bottom: 15px;
      padding: 15px;
    }

    /* class for centering an element vertically on its own page */
    .page_center {
      margin: auto;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      vertical-align: middle;
      break-before: page;
      break-after: page;
    }

    /* always insert a page break before the element */
    .page_break_before {
      break-before: page;
    }

    /* always insert a page break after the element */
    .page_break_after {
      break-after: page;
    }

    /* avoid page break before the element */
    .page_break_before_avoid {
      break-before: avoid;
    }

    /* avoid page break after the element */
    .page_break_after_avoid {
      break-after: avoid;
    }

    /* avoid page break inside the element */
    .page_break_inside_avoid {
      break-inside: avoid;
    }
  }

  /* -------------------------------------------------- */
  /* override pandoc css quirks */
  /* -------------------------------------------------- */

  .sourceCode {
    /* prevent unsightly overflow in wide code blocks */
    overflow: auto !important;
  }

  div.sourceCode {
    /* prevent background fill on top-most code block  container */
    background: none !important;
  }

  .sourceCode * {
    /* force consistent line spacing */
    line-height: 1.5 !important;
  }

  div.sourceCode {
    /* style code block margins same as <pre> element */
    margin-top: 20px;
    margin-bottom: 20px;
  }

  /* -------------------------------------------------- */
  /* tablenos */
  /* -------------------------------------------------- */

  /* tablenos wrapper */
  .tablenos {
    width: 100%;
    margin: 20px 0;
  }

  .tablenos > table {
    /* move margins from table to table_wrapper to allow margin collapsing */
    margin: 0;
  }

  @media only screen {
    /* tablenos wrapper */
    .tablenos {
      /* show scrollbar on tables if necessary to prevent overflow */
      overflow-x: auto !important;
    }

    .tablenos th,
    .tablenos td {
      overflow-wrap: unset !important;
      word-break: unset !important;
    }

    /* table in wrapper */
    .tablenos table,
    .tablenos table * {
      /* don't break table words */
      overflow-wrap: normal !important;
    }
  }
</style>
<!-- 
    Plugin Core

    Functions needed for and shared across all first-party plugins.
-->

<script>
  // get element that is target of hash (from link element or url)
  function getHashTarget(link) {
    const hash = link ? link.hash : window.location.hash;
    const id = hash.slice(1);
    let target = document.querySelector(`[id="${id}"]`);
    if (!target) return;

    // if figure or table, modify target to get expected element
    if (id.indexOf("fig:") === 0) target = target.querySelector("figure");
    if (id.indexOf("tbl:") === 0) target = target.querySelector("table");

    return target;
  }

  // get position/dimensions of element or viewport
  function getRectInView(element) {
    let rect = {};
    rect.left = 0;
    rect.top = 0;
    rect.right = document.documentElement.clientWidth;
    rect.bottom = document.documentElement.clientHeight;
    let style = {};

    if (element instanceof HTMLElement) {
      rect = element.getBoundingClientRect();
      style = window.getComputedStyle(element);
    }

    const margin = {};
    margin.left = parseFloat(style.marginLeftWidth) || 0;
    margin.top = parseFloat(style.marginTopWidth) || 0;
    margin.right = parseFloat(style.marginRightWidth) || 0;
    margin.bottom = parseFloat(style.marginBottomWidth) || 0;

    const border = {};
    border.left = parseFloat(style.borderLeftWidth) || 0;
    border.top = parseFloat(style.borderTopWidth) || 0;
    border.right = parseFloat(style.borderRightWidth) || 0;
    border.bottom = parseFloat(style.borderBottomWidth) || 0;

    const newRect = {};
    newRect.left = rect.left + margin.left + border.left;
    newRect.top = rect.top + margin.top + border.top;
    newRect.right = rect.right + margin.right + border.right;
    newRect.bottom = rect.bottom + margin.bottom + border.bottom;
    newRect.width = newRect.right - newRect.left;
    newRect.height = newRect.bottom - newRect.top;

    return newRect;
  }

  // get position of element relative to page
  function getRectInPage(element) {
    const rect = getRectInView(element);
    const body = getRectInView(document.body);

    const newRect = {};
    newRect.left = rect.left - body.left;
    newRect.top = rect.top - body.top;
    newRect.right = rect.right - body.left;
    newRect.bottom = rect.bottom - body.top;
    newRect.width = rect.width;
    newRect.height = rect.height;

    return newRect;
  }

  // get closest element before specified element that matches query
  function firstBefore(element, query) {
    while (element && element !== document.body && !element.matches(query))
      element = element.previousElementSibling || element.parentNode;

    return element;
  }

  // check if element is part of collapsed heading
  function isCollapsed(element) {
    while (element && element !== document.body) {
      if (element.dataset.collapsed === "true") return true;
      element = element.parentNode;
    }
    return false;
  }

  // expand any collapsed parent containers of element if necessary
  function expandElement(element) {
    if (isCollapsed(element)) {
      // accordion plugin
      const heading = firstBefore(element, "h2");
      if (heading) heading.click();
      // details/summary HTML element
      const summary = firstBefore(element, "summary");
      if (summary) summary.click();
    }
  }

  // scroll to and focus element
  function goToElement(element, offset) {
    // expand accordion section if collapsed
    expandElement(element);
    const y =
      getRectInView(element).top -
      getRectInView(document.documentElement).top -
      (offset || 0);

    // trigger any function listening for "onscroll" event
    window.dispatchEvent(new Event("scroll"));
    window.scrollTo(0, y);
    document.activeElement.blur();
    element.focus();
  }

  // get list of elements after a start element up to element matching query
  function nextUntil(element, query, exclude) {
    const elements = [];
    while (((element = element.nextElementSibling), element)) {
      if (element.matches(query)) break;
      if (!element.matches(exclude)) elements.push(element);
    }
    return elements;
  }
</script>
<!--
  Accordion Plugin

  Allows sections of content under h2 headings to be collapsible.
-->

<script type="module">
  // whether to always start expanded ('false'), always start collapsed
  // ('true'), or start collapsed when screen small ('auto')
  const startCollapsed = "auto";

  // start script
  function start() {
    // run through each <h2> heading
    const headings = document.querySelectorAll("h2");
    for (const heading of headings) {
      addArrow(heading);

      // start expanded/collapsed based on option
      if (
        startCollapsed === "true" ||
        (startCollapsed === "auto" && isSmallScreen()) ||
        heading.dataset.collapsed === "true"
      )
        collapseHeading(heading);
      else expandElement(heading);
    }

    // attach hash change listener to window
    window.addEventListener("hashchange", onHashChange);
  }

  // when hash (eg manuscript.html#introduction) changes
  function onHashChange() {
    const target = getHashTarget();
    if (target) goToElement(target);
  }

  // add arrow to heading
  function addArrow(heading) {
    // add arrow button
    const arrow = document.createElement("button");
    arrow.innerHTML = document.querySelector(".icon_angle_down").innerHTML;
    arrow.classList.add("icon_button", "accordion_arrow");
    heading.insertBefore(arrow, heading.firstChild);

    // attach click listener to heading and button
    heading.addEventListener("click", onHeadingClick);
    arrow.addEventListener("click", onArrowClick);
  }

  // determine if on mobile-like device with small screen
  function isSmallScreen() {
    return Math.min(window.innerWidth, window.innerHeight) < 480;
  }

  // when <h2> heading is clicked
  function onHeadingClick(event) {
    // only collapse if <h2> itself is target of click (eg, user did
    // not click on anchor within <h2>)
    if (event.target === this) toggleCollapse(this);
  }

  // when arrow button is clicked
  function onArrowClick() {
    toggleCollapse(this.parentNode);
  }

  // collapse section if expanded, expand if collapsed
  function toggleCollapse(heading) {
    if (heading.dataset.collapsed === "false") collapseHeading(heading);
    else expandElement(heading);
  }

  // elements to exclude from collapse, such as table of contents panel,
  // hypothesis panel, etc
  const exclude = "#toc_panel, div.annotator-frame, #lightbox_overlay";

  // collapse section
  function collapseHeading(heading) {
    heading.setAttribute("data-collapsed", "true");
    const children = getChildren(heading);
    for (const child of children) child.setAttribute("data-collapsed", "true");
  }

  // expand section
  function expandElement(heading) {
    heading.setAttribute("data-collapsed", "false");
    const children = getChildren(heading);
    for (const child of children) child.setAttribute("data-collapsed", "false");
  }

  // get list of elements between this <h2> and next <h2> or <h1>
  // ("children" of the <h2> section)
  function getChildren(heading) {
    return nextUntil(heading, "h2, h1", exclude);
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- angle down icon -->

<template class="icon_angle_down">
  <!-- modified from: https://fontawesome.com/icons/angle-down -->
  <svg width="16" height="16" viewBox="0 0 448 512">
    <path
      fill="currentColor"
      d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* accordion arrow button */
    .accordion_arrow {
      margin-right: 10px;
    }

    /* arrow icon when <h2> data-collapsed attribute true */
    h2[data-collapsed="true"] > .accordion_arrow > svg {
      transform: rotate(-90deg);
    }

    /* all elements (except <h2>'s) when data-collapsed attribute true */
    *:not(h2)[data-collapsed="true"] {
      display: none;
    }

    /* accordion arrow button when hovered and <h2>'s when hovered */
    .accordion_arrow:hover,
    h2[data-collapsed="true"]:hover,
    h2[data-collapsed="false"]:hover {
      cursor: pointer;
    }
  }

  /* always hide accordion arrow button on print */
  @media only print {
    .accordion_arrow {
      display: none;
    }
  }
</style>
<!--
  Anchors Plugin

  Adds an anchor next to each of a certain type of element that provides a
  human-readable url to that specific item/position in the document (e.g.
  "manuscript.html#abstract"). It also makes it such that scrolling out of view
  of a target removes its identifier from the url.
-->

<script type="module">
  // which types of elements to add anchors next to, in "document.querySelector"
  // format
  const typesQuery =
    'h1, h2, h3, div[id^="fig:"], div[id^="tbl:"], span[id^="eq:"]';

  // start script
  function start() {
    // add anchor to each element of specified types
    const elements = document.querySelectorAll(typesQuery);
    for (const element of elements) addAnchor(element);

    // attach scroll listener to window
    window.addEventListener("scroll", onScroll);
  }

  // when window is scrolled
  function onScroll() {
    // if url has hash and user has scrolled out of view of hash
    // target, remove hash from url
    const tolerance = 100;
    const target = getHashTarget();
    if (target) {
      if (
        target.getBoundingClientRect().top > window.innerHeight + tolerance ||
        target.getBoundingClientRect().bottom < 0 - tolerance
      )
        history.pushState(null, null, " ");
    }
  }

  // add anchor to element
  function addAnchor(element) {
    let addTo; // element to add anchor button to

    // if figure or table, modify withId and addTo to get expected
    // elements
    if (element.id.indexOf("fig:") === 0) {
      addTo = element.querySelector("figcaption");
    } else if (element.id.indexOf("tbl:") === 0) {
      addTo = element.querySelector("caption");
    } else if (element.id.indexOf("eq:") === 0) {
      addTo = element.querySelector(".eqnos-number");
    }

    addTo = addTo || element;
    const id = element.id || null;

    // do not add anchor if element doesn't have assigned id.
    // id is generated by pandoc and is assumed to be unique and
    // human-readable
    if (!id) return;

    // create anchor button
    const anchor = document.createElement("a");
    anchor.innerHTML = document.querySelector(".icon_link").innerHTML;
    anchor.title = "Link to this part of the document";
    anchor.classList.add("icon_button", "anchor");
    anchor.dataset.ignore = "true";
    anchor.href = "#" + id;
    addTo.appendChild(anchor);
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- link icon -->

<template class="icon_link">
  <!-- modified from: https://fontawesome.com/icons/link -->
  <svg width="16" height="16" viewBox="0 0 512 512">
    <path
      fill="currentColor"
      d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* anchor button */
    .anchor {
      opacity: 0;
      margin-left: 5px;
    }

    /* anchor buttons within <h2>'s */
    h2 .anchor {
      margin-left: 10px;
    }

    /* anchor buttons when hovered/focused and anything containing an anchor button when hovered */
    *:hover > .anchor,
    .anchor:hover,
    .anchor:focus {
      opacity: 1;
    }

    /* anchor button when hovered */
    .anchor:hover {
      cursor: pointer;
    }
  }

  /* always show anchor button on devices with no mouse/hover ability */
  @media (hover: none) {
    .anchor {
      opacity: 1;
    }
  }

  /* always hide anchor button on print */
  @media only print {
    .anchor {
      display: none;
    }
  }
</style>
<!-- 
    Attributes Plugin

    Allows arbitrary HTML attributes to be attached to (almost) any element.
    Place an HTML comment inside or next to the desired element with the content:
    $attribute="value"
-->

<script type="module">
  // start script
  function start() {
    // get list of comments in document
    const comments = findComments();

    for (const comment of comments)
      if (comment.parentElement)
        addAttributes(comment.parentElement, comment.nodeValue.trim());
  }

  // add html attributes to specified element based on string of
  // html attributes and values
  function addAttributes(element, text) {
    // regex's for finding attribute/value pairs in the format of
    // attribute="value" or attribute='value
    const regex2 = /\$([a-zA-Z\-]+)?=\"(.+?)\"/;
    const regex1 = /\$([a-zA-Z\-]+)?=\'(.+?)\'/;

    // loop through attribute/value pairs
    let match;
    while ((match = text.match(regex2) || text.match(regex1))) {
      // get attribute and value from regex capture groups
      let attribute = match[1];
      let value = match[2];

      // remove from string
      text = text.substring(match.index + match[0].length);

      if (!attribute || !value) break;

      // set attribute of parent element
      try {
        element.setAttribute(attribute, value);
      } catch (error) {
        console.log(error);
      }

      // special case for colspan
      if (attribute === "colspan") removeTableCells(element, value);
    }
  }

  // get list of comment elements in document
  function findComments() {
    const comments = [];

    // iterate over comment nodes in document
    function acceptNode(node) {
      return NodeFilter.FILTER_ACCEPT;
    }
    const iterator = document.createNodeIterator(
      document.body,
      NodeFilter.SHOW_COMMENT,
      acceptNode
    );
    let node;
    while ((node = iterator.nextNode())) comments.push(node);

    return comments;
  }

  // remove certain number of cells after specified cell
  function removeTableCells(cell, number) {
    number = parseInt(number);
    if (!number) return;

    // remove elements
    for (; number > 1; number--) {
      if (cell.nextElementSibling) cell.nextElementSibling.remove();
    }
  }

  // start script on DOMContentLoaded instead of load to ensure this plugins
  // runs before other plugins
  window.addEventListener("DOMContentLoaded", start);
</script>
<!--
  Jump to First Plugin

  Adds a button next to each reference entry, figure, and table that jumps the
  page to the first occurrence of a link to that item in the manuscript.
-->

<script type="module">
  // whether to add buttons next to reference entries
  const references = "true";
  // whether to add buttons next to figures
  const figures = "true";
  // whether to add buttons next to tables
  const tables = "true";

  // start script
  function start() {
    if (references !== "false")
      makeButtons(`div[id^="ref-"]`, ".csl-left-margin", "reference");
    if (figures !== "false")
      makeButtons(`div[id^="fig:"]`, "figcaption", "figure");
    if (tables !== "false") makeButtons(`div[id^="tbl:"]`, "caption", "table");
  }

  // when jump button clicked
  function onButtonClick() {
    const first = getFirstOccurrence(this.dataset.id);
    if (!first) return;

    // update url hash so navigating "back" in history will return user to button
    window.location.hash = this.dataset.id;
    // scroll to link
    const timeout = function () {
      goToElement(first, window.innerHeight * 0.5);
    };
    window.setTimeout(timeout, 0);
  }

  // get first occurrence of link to item in document
  function getFirstOccurrence(id) {
    let query = "a";
    query += '[href="#' + id + '"]';
    // exclude buttons, anchor links, toc links, etc
    query += ":not(.button):not(.icon_button):not(.anchor):not(.toc_link)";
    return document.querySelector(query);
  }

  // add button next to each reference entry, figure, or table
  function makeButtons(query, containerQuery, subject) {
    const elements = document.querySelectorAll(query);
    for (const element of elements) {
      const id = element.id;
      const buttonContainer = element.querySelector(containerQuery);
      const first = getFirstOccurrence(id);

      // if can't find link to reference or place to put button, ignore
      if (!first || !buttonContainer) continue;

      // make jump button
      let button = document.createElement("button");
      button.classList.add("icon_button", "jump_arrow");
      button.title = `Jump to the first occurrence of this ${subject} in the document`;
      const icon = document.querySelector(".icon_angle_double_up");
      button.innerHTML = icon.innerHTML;
      button.dataset.id = id;
      button.dataset.ignore = "true";
      button.addEventListener("click", onButtonClick);
      buttonContainer.prepend(button);
    }
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- angle double up icon -->

<template class="icon_angle_double_up">
  <!-- modified from: https://fontawesome.com/icons/angle-double-up -->
  <svg width="16" height="16" viewBox="0 0 320 512">
    <path
      fill="currentColor"
      d="M177 255.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 351.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 425.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1zm-34-192L7 199.7c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l96.4-96.4 96.4 96.4c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9l-136-136c-9.2-9.4-24.4-9.4-33.8 0z"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* jump button */
    .jump_arrow {
      position: relative;
      top: 0.125em;
      margin-right: 5px;
    }
  }

  /* always hide jump button on print */
  @media only print {
    .jump_arrow {
      display: none;
    }
  }
</style>
<!-- 
    Lightbox Plugin

    Makes it such that when a user clicks on an image, the image fills the
    screen and the user can pan/drag/zoom the image and navigate between other
    images in the document.
-->

<script type="module">
  // list of possible zoom/scale factors
  const zooms =
    "0.1, 0.25, 0.333333, 0.5, 0.666666, 0.75, 1, 1.25, 1.5, 1.75, 2, 2.5, 3, 3.5, 4, 5, 6, 7, 8";
  // whether to fit image to view ('fit'), display at 100% and shrink if
  // necessary ('shrink'), or always display at 100% ('100')
  const defaultZoom = "fit";
  // whether to zoom in/out toward center of view ('true') or mouse ('false')
  const centerZoom = "false";

  // start script
  function start() {
    // run through each <img> element
    const imgs = document.querySelectorAll("figure > img");
    let count = 1;
    for (const img of imgs) {
      img.classList.add("lightbox_document_img");
      img.dataset.number = count;
      img.dataset.total = imgs.length;
      img.addEventListener("click", openLightbox);
      count++;
    }

    // attach mouse and key listeners to window
    window.addEventListener("mousemove", onWindowMouseMove);
    window.addEventListener("keyup", onKeyUp);
  }

  // when mouse is moved anywhere in window
  function onWindowMouseMove(event) {
    window.mouseX = event.clientX;
    window.mouseY = event.clientY;
  }

  // when key pressed
  function onKeyUp(event) {
    if (!event || !event.key) return;

    switch (event.key) {
      // trigger click of prev button
      case "ArrowLeft":
        const prevButton = document.getElementById("lightbox_prev_button");
        if (prevButton) prevButton.click();
        break;
      // trigger click of next button
      case "ArrowRight":
        const nextButton = document.getElementById("lightbox_next_button");
        if (nextButton) nextButton.click();
        break;
      // close on esc
      case "Escape":
        closeLightbox();
        break;
    }
  }

  // open lightbox
  function openLightbox() {
    const lightbox = makeLightbox(this);
    if (!lightbox) return;

    blurBody(lightbox);
    document.body.appendChild(lightbox);
  }

  // make lightbox
  function makeLightbox(img) {
    // delete lightbox if it exists, start fresh
    closeLightbox();

    // create screen overlay containing lightbox
    const overlay = document.createElement("div");
    overlay.id = "lightbox_overlay";

    // create image info boxes
    const numberInfo = document.createElement("div");
    const zoomInfo = document.createElement("div");
    numberInfo.id = "lightbox_number_info";
    zoomInfo.id = "lightbox_zoom_info";

    // create container for image
    const imageContainer = document.createElement("div");
    imageContainer.id = "lightbox_image_container";
    const lightboxImg = makeLightboxImg(
      img,
      imageContainer,
      numberInfo,
      zoomInfo
    );
    imageContainer.appendChild(lightboxImg);

    // create bottom container for caption and navigation buttons
    const bottomContainer = document.createElement("div");
    bottomContainer.id = "lightbox_bottom_container";
    const caption = makeCaption(img);
    const prevButton = makePrevButton(img);
    const nextButton = makeNextButton(img);
    bottomContainer.appendChild(prevButton);
    bottomContainer.appendChild(caption);
    bottomContainer.appendChild(nextButton);

    // attach top middle and bottom to overlay
    overlay.appendChild(numberInfo);
    overlay.appendChild(zoomInfo);
    overlay.appendChild(imageContainer);
    overlay.appendChild(bottomContainer);

    return overlay;
  }

  // make <img> object that is intuitively draggable and zoomable
  function makeLightboxImg(sourceImg, container, numberInfoBox, zoomInfoBox) {
    // create copy of source <img>
    const img = sourceImg.cloneNode(true);
    img.classList.remove("lightbox_document_img");
    img.removeAttribute("id");
    img.removeAttribute("width");
    img.removeAttribute("height");
    img.style.position = "unset";
    img.style.margin = "0";
    img.style.padding = "0";
    img.style.width = "";
    img.style.height = "";
    img.style.minWidth = "";
    img.style.minHeight = "";
    img.style.maxWidth = "";
    img.style.maxHeight = "";
    img.id = "lightbox_img";

    // build sorted list of zoomSteps
    const zoomSteps = zooms.split(/[^0-9.]/).map((step) => parseFloat(step));
    zoomSteps.sort((a, b) => a - b);

    // <img> object property variables
    let zoom = 1;
    let translateX = 0;
    let translateY = 0;
    let clickMouseX = undefined;
    let clickMouseY = undefined;
    let clickTranslateX = undefined;
    let clickTranslateY = undefined;

    updateNumberInfo();

    // update image numbers displayed in info box
    function updateNumberInfo() {
      numberInfoBox.innerHTML =
        sourceImg.dataset.number + " of " + sourceImg.dataset.total;
    }

    // update zoom displayed in info box
    function updateZoomInfo() {
      let zoomInfo = zoom * 100;
      if (!Number.isInteger(zoomInfo)) zoomInfo = zoomInfo.toFixed(2);
      zoomInfoBox.innerHTML = zoomInfo + "%";
    }

    // move to closest zoom step above current zoom
    const zoomIn = function () {
      for (const zoomStep of zoomSteps) {
        if (zoomStep > zoom) {
          zoom = zoomStep;
          break;
        }
      }
      updateTransform();
    };

    // move to closest zoom step above current zoom
    const zoomOut = function () {
      zoomSteps.reverse();
      for (const zoomStep of zoomSteps) {
        if (zoomStep < zoom) {
          zoom = zoomStep;
          break;
        }
      }
      zoomSteps.reverse();

      updateTransform();
    };

    // update display of <img> based on scale/translate properties
    const updateTransform = function () {
      // set transform
      img.style.transform =
        "translate(" +
        (translateX || 0) +
        "px," +
        (translateY || 0) +
        "px) scale(" +
        (zoom || 1) +
        ")";

      // get new width/height after scale
      const rect = img.getBoundingClientRect();
      // limit translate
      translateX = Math.max(translateX, -rect.width / 2);
      translateX = Math.min(translateX, rect.width / 2);
      translateY = Math.max(translateY, -rect.height / 2);
      translateY = Math.min(translateY, rect.height / 2);

      // set transform
      img.style.transform =
        "translate(" +
        (translateX || 0) +
        "px," +
        (translateY || 0) +
        "px) scale(" +
        (zoom || 1) +
        ")";

      updateZoomInfo();
    };

    // fit <img> to container
    const fit = function () {
      // no x/y offset, 100% zoom by default
      translateX = 0;
      translateY = 0;
      zoom = 1;

      // widths of <img> and container
      const imgWidth = img.naturalWidth;
      const imgHeight = img.naturalHeight;
      const containerWidth = parseFloat(
        window.getComputedStyle(container).width
      );
      const containerHeight = parseFloat(
        window.getComputedStyle(container).height
      );

      // how much zooming is needed to fit <img> to container
      const xRatio = imgWidth / containerWidth;
      const yRatio = imgHeight / containerHeight;
      const maxRatio = Math.max(xRatio, yRatio);
      const newZoom = 1 / maxRatio;

      // fit <img> to container according to option
      if (defaultZoom === "shrink") {
        if (maxRatio > 1) zoom = newZoom;
      } else if (defaultZoom === "fit") zoom = newZoom;

      updateTransform();
    };

    // when mouse wheel is rolled anywhere in container
    const onContainerWheel = function (event) {
      if (!event) return;

      // let ctrl + mouse wheel to zoom behave as normal
      if (event.ctrlKey) return;

      // prevent normal scroll behavior
      event.preventDefault();
      event.stopPropagation();

      // point around which to scale img
      const viewRect = container.getBoundingClientRect();
      const viewX = (viewRect.left + viewRect.right) / 2;
      const viewY = (viewRect.top + viewRect.bottom) / 2;
      const originX = centerZoom === "true" ? viewX : mouseX;
      const originY = centerZoom === "true" ? viewY : mouseY;

      // get point on image under origin
      const oldRect = img.getBoundingClientRect();
      const oldPercentX = (originX - oldRect.left) / oldRect.width;
      const oldPercentY = (originY - oldRect.top) / oldRect.height;

      // increment/decrement zoom
      if (event.deltaY < 0) zoomIn();
      if (event.deltaY > 0) zoomOut();

      // get offset between previous image point and origin
      const newRect = img.getBoundingClientRect();
      const offsetX = originX - (newRect.left + newRect.width * oldPercentX);
      const offsetY = originY - (newRect.top + newRect.height * oldPercentY);

      // translate image to keep image point under origin
      translateX += offsetX;
      translateY += offsetY;

      // perform translate
      updateTransform();
    };

    // when container is clicked
    function onContainerClick(event) {
      // if container itself is target of click, and not other
      // element above it
      if (event.target === this) closeLightbox();
    }

    // when mouse button is pressed on image
    const onImageMouseDown = function (event) {
      // store original mouse position relative to image
      clickMouseX = window.mouseX;
      clickMouseY = window.mouseY;
      clickTranslateX = translateX;
      clickTranslateY = translateY;
      event.stopPropagation();
      event.preventDefault();
    };

    // when mouse button is released anywhere in window
    const onWindowMouseUp = function (event) {
      // reset original mouse position
      clickMouseX = undefined;
      clickMouseY = undefined;
      clickTranslateX = undefined;
      clickTranslateY = undefined;

      // remove global listener if lightbox removed from document
      if (!document.body.contains(container))
        window.removeEventListener("mouseup", onWindowMouseUp);
    };

    // when mouse is moved anywhere in window
    const onWindowMouseMove = function (event) {
      if (
        clickMouseX === undefined ||
        clickMouseY === undefined ||
        clickTranslateX === undefined ||
        clickTranslateY === undefined
      )
        return;

      // offset image based on original and current mouse position
      translateX = clickTranslateX + window.mouseX - clickMouseX;
      translateY = clickTranslateY + window.mouseY - clickMouseY;
      updateTransform();
      event.preventDefault();

      // remove global listener if lightbox removed from document
      if (!document.body.contains(container))
        window.removeEventListener("mousemove", onWindowMouseMove);
    };

    // when window is resized
    const onWindowResize = function (event) {
      fit();

      // remove global listener if lightbox removed from document
      if (!document.body.contains(container))
        window.removeEventListener("resize", onWindowResize);
    };

    // attach the necessary event listeners
    img.addEventListener("dblclick", fit);
    img.addEventListener("mousedown", onImageMouseDown);
    container.addEventListener("wheel", onContainerWheel);
    container.addEventListener("mousedown", onContainerClick);
    container.addEventListener("touchstart", onContainerClick);
    window.addEventListener("mouseup", onWindowMouseUp);
    window.addEventListener("mousemove", onWindowMouseMove);
    window.addEventListener("resize", onWindowResize);

    // run fit() after lightbox atttached to document and <img> Loaded
    // so needed container and img dimensions available
    img.addEventListener("load", fit);

    return img;
  }

  // make caption
  function makeCaption(img) {
    const caption = document.createElement("div");
    caption.id = "lightbox_caption";
    const captionSource = img.nextElementSibling;
    if (captionSource.tagName.toLowerCase() === "figcaption") {
      const captionCopy = makeCopy(captionSource);
      caption.innerHTML = captionCopy.innerHTML;
    }

    caption.addEventListener("touchstart", function (event) {
      event.stopPropagation();
    });

    return caption;
  }

  // make carbon copy of html dom element
  function makeCopy(source) {
    const sourceCopy = source.cloneNode(true);

    // delete elements marked with ignore (eg anchor and jump buttons)
    const deleteFromCopy = sourceCopy.querySelectorAll('[data-ignore="true"]');
    for (const element of deleteFromCopy) element.remove();

    // delete certain element attributes
    const attributes = [
      "id",
      "data-collapsed",
      "data-selected",
      "data-highlighted",
      "data-glow",
    ];
    for (const attribute of attributes) {
      sourceCopy.removeAttribute(attribute);
      const elements = sourceCopy.querySelectorAll("[" + attribute + "]");
      for (const element of elements) element.removeAttribute(attribute);
    }

    return sourceCopy;
  }

  // make button to jump to previous image in document
  function makePrevButton(img) {
    const prevButton = document.createElement("button");
    prevButton.id = "lightbox_prev_button";
    prevButton.title = "Jump to the previous image in the document [←]";
    prevButton.classList.add("icon_button", "lightbox_button");
    prevButton.innerHTML = document.querySelector(".icon_caret_left").innerHTML;

    // attach click listeners to button
    prevButton.addEventListener("click", function () {
      getPrevImg(img).click();
    });

    return prevButton;
  }

  // make button to jump to next image in document
  function makeNextButton(img) {
    const nextButton = document.createElement("button");
    nextButton.id = "lightbox_next_button";
    nextButton.title = "Jump to the next image in the document [→]";
    nextButton.classList.add("icon_button", "lightbox_button");
    nextButton.innerHTML = document.querySelector(
      ".icon_caret_right"
    ).innerHTML;

    // attach click listeners to button
    nextButton.addEventListener("click", function () {
      getNextImg(img).click();
    });

    return nextButton;
  }

  // get previous image in document
  function getPrevImg(img) {
    const imgs = document.querySelectorAll(".lightbox_document_img");

    // find index of provided img
    let index;
    for (index = 0; index < imgs.length; index++) {
      if (imgs[index] === img) break;
    }

    // wrap index to other side if < 1
    if (index - 1 >= 0) index--;
    else index = imgs.length - 1;
    return imgs[index];
  }

  // get next image in document
  function getNextImg(img) {
    const imgs = document.querySelectorAll(".lightbox_document_img");

    // find index of provided img
    let index;
    for (index = 0; index < imgs.length; index++) {
      if (imgs[index] === img) break;
    }

    // wrap index to other side if > total
    if (index + 1 <= imgs.length - 1) index++;
    else index = 0;
    return imgs[index];
  }

  // close lightbox
  function closeLightbox() {
    focusBody();

    const lightbox = document.getElementById("lightbox_overlay");
    if (lightbox) lightbox.remove();
  }

  // make all elements behind lightbox non-focusable
  function blurBody(overlay) {
    const all = document.querySelectorAll("*");
    for (const element of all) element.tabIndex = -1;
    document.body.classList.add("body_no_scroll");
  }

  // make all elements focusable again
  function focusBody() {
    const all = document.querySelectorAll("*");
    for (const element of all) element.removeAttribute("tabIndex");
    document.body.classList.remove("body_no_scroll");
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- caret left icon -->

<template class="icon_caret_left">
  <!-- modified from: https://fontawesome.com/icons/caret-left -->
  <svg width="16" height="16" viewBox="0 0 192 512">
    <path
      fill="currentColor"
      d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"
    ></path>
  </svg>
</template>

<!-- caret right icon -->

<template class="icon_caret_right">
  <!-- modified from: https://fontawesome.com/icons/caret-right -->
  <svg width="16" height="16" viewBox="0 0 192 512">
    <path
      fill="currentColor"
      d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* regular <img> in document when hovered */
    img.lightbox_document_img:hover {
      cursor: pointer;
    }

    .body_no_scroll {
      overflow: hidden !important;
    }

    /* screen overlay */
    #lightbox_overlay {
      display: flex;
      flex-direction: column;
      position: fixed;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.75);
      z-index: 3;
    }

    /* middle area containing lightbox image */
    #lightbox_image_container {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
      padding: 20px;
    }

    /* bottom area containing caption */
    #lightbox_bottom_container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100px;
      min-height: 100px;
      max-height: 100px;
      background: rgba(0, 0, 0, 0.5);
    }

    /* image number info text box */
    #lightbox_number_info {
      position: absolute;
      color: #ffffff;
      font-weight: 600;
      left: 2px;
      top: 0;
      z-index: 4;
    }

    /* zoom info text box */
    #lightbox_zoom_info {
      position: absolute;
      color: #ffffff;
      font-weight: 600;
      right: 2px;
      top: 0;
      z-index: 4;
    }

    /* copy of image caption */
    #lightbox_caption {
      box-sizing: border-box;
      display: inline-block;
      width: 100%;
      max-height: 100%;
      padding: 10px 0;
      text-align: center;
      overflow-y: auto;
      color: #ffffff;
    }

    /* navigation previous/next button */
    .lightbox_button {
      width: 100px;
      height: 100%;
      min-width: 100px;
      min-height: 100%;
      color: #ffffff;
    }

    /* navigation previous/next button when hovered */
    .lightbox_button:hover {
      background: none !important;
    }

    /* navigation button icon */
    .lightbox_button > svg {
      height: 25px;
    }

    /* figure auto-number */
    #lightbox_caption > span:first-of-type {
      font-weight: bold;
      margin-right: 5px;
    }

    /* lightbox image when hovered */
    #lightbox_img:hover {
      cursor: grab;
    }

    /* lightbox image when grabbed */
    #lightbox_img:active {
      cursor: grabbing;
    }
  }

  /* when on screen < 480px wide */
  @media only screen and (max-width: 480px) {
    /* make navigation buttons skinnier on small screens to make more room for caption text */
    .lightbox_button {
      width: 50px;
      min-width: 50px;
    }
  }

  /* always hide lightbox on print */
  @media only print {
    #lightbox_overlay {
      display: none;
    }
  }
</style>
<!-- 
  Link Highlight Plugin

  Makes it such that when a user hovers or focuses a link, other links that have
  the same target will be highlighted. It also makes it such that when clicking
  a link, the target of the link (eg reference, figure, table) is briefly
  highlighted.
-->

<script type="module">
  // whether to also highlight links that go to external urls
  const externalLinks = "false";
  // whether user must click off to unhighlight instead of just
  // un-hovering
  const clickUnhighlight = "false";
  // whether to also highlight links that are unique
  const highlightUnique = "true";

  // start script
  function start() {
    const links = getLinks();
    for (const link of links) {
      // attach mouse and focus listeners to link
      link.addEventListener("mouseenter", onLinkFocus);
      link.addEventListener("focus", onLinkFocus);
      link.addEventListener("mouseleave", onLinkUnhover);
    }

    // attach click and hash change listeners to window
    window.addEventListener("click", onClick);
    window.addEventListener("touchstart", onClick);
    window.addEventListener("hashchange", onHashChange);

    // run hash change on window load in case user has navigated
    // directly to hash
    onHashChange();
  }

  // when link is focused (tabbed to) or hovered
  function onLinkFocus() {
    highlight(this);
  }

  // when link is unhovered
  function onLinkUnhover() {
    if (clickUnhighlight !== "true") unhighlightAll();
  }

  // when the mouse is clicked anywhere in window
  function onClick(event) {
    unhighlightAll();
  }

  // when hash (eg manuscript.html#introduction) changes
  function onHashChange() {
    const target = getHashTarget();
    if (target) glowElement(target);
  }

  // start glow sequence on an element
  function glowElement(element) {
    const startGlow = function () {
      onGlowEnd();
      element.dataset.glow = "true";
      element.addEventListener("animationend", onGlowEnd);
    };
    const onGlowEnd = function () {
      element.removeAttribute("data-glow");
      element.removeEventListener("animationend", onGlowEnd);
    };
    startGlow();
  }

  // highlight link and all others with same target
  function highlight(link) {
    // force unhighlight all to start fresh
    unhighlightAll();

    // get links with same target
    if (!link) return;
    const sameLinks = getSameLinks(link);

    // if link unique and option is off, exit and don't highlight
    if (sameLinks.length <= 1 && highlightUnique !== "true") return;

    // highlight all same links, and "select" (special highlight) this
    // one
    for (const sameLink of sameLinks) {
      if (sameLink === link) sameLink.setAttribute("data-selected", "true");
      else sameLink.setAttribute("data-highlighted", "true");
    }
  }

  // unhighlight all links
  function unhighlightAll() {
    const links = getLinks();
    for (const link of links) {
      link.setAttribute("data-selected", "false");
      link.setAttribute("data-highlighted", "false");
    }
  }

  // get links with same target
  function getSameLinks(link) {
    const results = [];
    const links = getLinks();
    for (const otherLink of links) {
      if (otherLink.getAttribute("href") === link.getAttribute("href"))
        results.push(otherLink);
    }
    return results;
  }

  // get all links of types we wish to handle
  function getLinks() {
    let query = "a";
    if (externalLinks !== "true") query += '[href^="#"]';
    // exclude buttons, anchor links, toc links, etc
    query += ":not(.button):not(.icon_button):not(.anchor):not(.toc_link)";
    return document.querySelectorAll(query);
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<style>
  @media only screen {
    /* anything with data-highlighted attribute true */
    [data-highlighted="true"] {
      background: #ffeb3b;
    }

    /* anything with data-selected attribute true */
    [data-selected="true"] {
      background: #ff8a65 !important;
    }

    /* animation definition for glow */
    @keyframes highlight_glow {
      0% {
        background: none;
      }
      10% {
        background: #bbdefb;
      }
      100% {
        background: none;
      }
    }

    /* anything with data-glow attribute true */
    [data-glow="true"] {
      animation: highlight_glow 2s;
    }
  }
</style>
<!--
  Table of Contents Plugin

  Provides a "table of contents" (toc) panel on the side of the document that
  allows the user to conveniently navigate between sections of the document.
-->

<script type="module">
  // which types of elements to add links for, in "document.querySelector" format
  const typesQuery = "h1, h2, h3";
  // whether toc starts open. use 'true' or 'false', or 'auto' to
  // use 'true' behavior when screen wide enough and 'false' when not
  const startOpen = "false";
  // whether toc closes when clicking on toc link. use 'true' or
  // 'false', or 'auto' to use 'false' behavior when screen wide
  // enough and 'true' when not
  const clickClose = "auto";
  // if list item is more than this many characters, text will be
  // truncated
  const charLimit = "50";
  // whether or not to show bullets next to each toc item
  const bullets = "false";

  // start script
  function start() {
    // make toc panel and populate with entries (links to document
    // sections)
    const panel = makePanel();
    if (!panel) return;
    makeEntries(panel);
    // attach panel to document after making entries, so 'toc' heading
    // in panel isn't included in toc
    document.body.insertBefore(panel, document.body.firstChild);

    // initial panel state
    if (startOpen === "true" || (startOpen === "auto" && !isSmallScreen()))
      openPanel();
    else closePanel();

    // attach click, scroll, and hash change listeners to window
    window.addEventListener("click", onClick);
    window.addEventListener("scroll", onScroll);
    window.addEventListener("hashchange", onScroll);
    window.addEventListener("keyup", onKeyUp);
    onScroll();

    // add class to push document body down out of way of toc button
    document.body.classList.add("toc_body_nudge");
  }

  // determine if screen wide enough to fit toc panel
  function isSmallScreen() {
    // in default theme:
    // 816px = 8.5in = width of "page" (<body>) element
    // 260px = min width of toc panel (*2 for both sides of <body>)
    return window.innerWidth < 816 + 260 * 2;
  }

  // when mouse is clicked anywhere in window
  function onClick() {
    if (isSmallScreen()) closePanel();
  }

  // when window is scrolled or hash changed
  function onScroll() {
    highlightViewed();
  }

  // when key pressed
  function onKeyUp(event) {
    if (!event || !event.key) return;

    // close on esc
    if (event.key === "Escape") closePanel();
  }

  // find entry of currently viewed document section in toc and highlight
  function highlightViewed() {
    const firstId = getFirstInView(typesQuery);

    // get toc entries (links), unhighlight all, then highlight viewed
    const list = document.getElementById("toc_list");
    if (!firstId || !list) return;
    const links = list.querySelectorAll("a");
    for (const link of links) link.dataset.viewing = "false";
    const link = list.querySelector('a[href="#' + firstId + '"]');
    if (!link) return;
    link.dataset.viewing = "true";
  }

  // get first or previous toc listed element in top half of view
  function getFirstInView(query) {
    // get all elements matching query and with id
    const elements = document.querySelectorAll(query);
    const elementsWithIds = [];
    for (const element of elements) {
      if (element.id) elementsWithIds.push(element);
    }

    // get first or previous element in top half of view
    for (let i = 0; i < elementsWithIds.length; i++) {
      const element = elementsWithIds[i];
      const prevElement = elementsWithIds[Math.max(0, i - 1)];
      if (element.getBoundingClientRect().top >= 0) {
        if (element.getBoundingClientRect().top < window.innerHeight / 2)
          return element.id;
        else return prevElement.id;
      }
    }
  }

  // make panel
  function makePanel() {
    // create panel
    const panel = document.createElement("div");
    panel.id = "toc_panel";
    if (bullets === "true") panel.dataset.bullets = "true";

    // create header
    const header = document.createElement("div");
    header.id = "toc_header";

    // create toc button
    const button = document.createElement("button");
    button.id = "toc_button";
    button.innerHTML = document.querySelector(".icon_th_list").innerHTML;
    button.title = "Table of Contents";
    button.classList.add("icon_button");

    // create header text
    const text = document.createElement("h4");
    text.innerHTML = "Table of Contents";

    // create container for toc list
    const list = document.createElement("div");
    list.id = "toc_list";

    // attach click listeners
    panel.addEventListener("click", onPanelClick);
    header.addEventListener("click", onHeaderClick);
    button.addEventListener("click", onButtonClick);

    // attach elements
    header.appendChild(button);
    header.appendChild(text);
    panel.appendChild(header);
    panel.appendChild(list);

    return panel;
  }

  // create toc entries (links) to each element of the specified types
  function makeEntries(panel) {
    const elements = document.querySelectorAll(typesQuery);
    for (const element of elements) {
      // do not add link if element doesn't have assigned id
      if (!element.id) continue;

      // create link/list item
      const link = document.createElement("a");
      link.classList.add("toc_link");
      switch (element.tagName.toLowerCase()) {
        case "h1":
          link.dataset.level = "1";
          break;
        case "h2":
          link.dataset.level = "2";
          break;
        case "h3":
          link.dataset.level = "3";
          break;
        case "h4":
          link.dataset.level = "4";
          break;
      }
      link.title = element.innerText;
      let text = element.innerText;
      if (text.length > charLimit) text = text.slice(0, charLimit) + "...";
      link.innerHTML = text;
      link.href = "#" + element.id;
      link.addEventListener("click", onLinkClick);

      // attach link
      panel.querySelector("#toc_list").appendChild(link);
    }
  }

  // when panel is clicked
  function onPanelClick(event) {
    // stop click from propagating to window/document and closing panel
    event.stopPropagation();
  }

  // when header itself is clicked
  function onHeaderClick(event) {
    togglePanel();
  }

  // when button is clicked
  function onButtonClick(event) {
    togglePanel();
    // stop header underneath button from also being clicked
    event.stopPropagation();
  }

  // when link is clicked
  function onLinkClick(event) {
    if (clickClose === "true" || (clickClose === "auto" && isSmallScreen()))
      closePanel();
    else openPanel();
  }

  // open panel if closed, close if opened
  function togglePanel() {
    const panel = document.getElementById("toc_panel");
    if (!panel) return;

    if (panel.dataset.open === "true") closePanel();
    else openPanel();
  }

  // open panel
  function openPanel() {
    const panel = document.getElementById("toc_panel");
    if (panel) panel.dataset.open = "true";
  }

  // close panel
  function closePanel() {
    const panel = document.getElementById("toc_panel");
    if (panel) panel.dataset.open = "false";
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- th list icon -->

<template class="icon_th_list">
  <!-- modified from: https://fontawesome.com/icons/th-list -->
  <svg width="16" height="16" viewBox="0 0 512 512" tabindex="-1">
    <path
      fill="currentColor"
      d="M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"
      tabindex="-1"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* toc panel */
    #toc_panel {
      box-sizing: border-box;
      position: fixed;
      top: 0;
      left: 0;
      background: #ffffff;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
      z-index: 2;
    }

    /* toc panel when closed */
    #toc_panel[data-open="false"] {
      min-width: 60px;
      width: 60px;
      height: 60px;
      border-right: solid 1px #bdbdbd;
      border-bottom: solid 1px #bdbdbd;
    }

    /* toc panel when open */
    #toc_panel[data-open="true"] {
      min-width: 260px;
      max-width: 480px;
      /* keep panel edge consistent distance away from "page" edge */
      width: calc(((100vw - 8.5in) / 2) - 30px - 40px);
      bottom: 0;
      border-right: solid 1px #bdbdbd;
    }

    /* toc panel header */
    #toc_header {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: center;
      height: 60px;
      margin: 0;
      padding: 20px;
    }

    /* toc panel header when hovered */
    #toc_header:hover {
      cursor: pointer;
    }

    /* toc panel header when panel open */
    #toc_panel[data-open="true"] > #toc_header {
      border-bottom: solid 1px #bdbdbd;
    }

    /* toc open/close header button */
    #toc_button {
      margin-right: 20px;
    }

    /* hide toc list and header text when closed */
    #toc_panel[data-open="false"] > #toc_header > *:not(#toc_button),
    #toc_panel[data-open="false"] > #toc_list {
      display: none;
    }

    /* toc list of entries */
    #toc_list {
      box-sizing: border-box;
      width: 100%;
      padding: 20px;
      position: absolute;
      top: calc(60px + 1px);
      bottom: 0;
      overflow: auto;
    }

    /* toc entry, link to section in document */
    .toc_link {
      display: block;
      padding: 5px;
      position: relative;
      font-weight: 600;
      text-decoration: none;
    }

    /* toc entry when hovered or when "viewed" */
    .toc_link:hover,
    .toc_link[data-viewing="true"] {
      background: #f5f5f5;
    }

    /* toc entry, level 1 indentation */
    .toc_link[data-level="1"] {
      margin-left: 0;
    }

    /* toc entry, level 2 indentation */
    .toc_link[data-level="2"] {
      margin-left: 20px;
    }

    /* toc entry, level 3 indentation */
    .toc_link[data-level="3"] {
      margin-left: 40px;
    }

    /* toc entry, level 4 indentation */
    .toc_link[data-level="4"] {
      margin-left: 60px;
    }

    /* toc entry bullets */
    #toc_panel[data-bullets="true"] .toc_link[data-level]:before {
      position: absolute;
      left: -15px;
      top: -1px;
      font-size: 1.5em;
    }

    /* toc entry, level 2 bullet */
    #toc_panel[data-bullets="true"] .toc_link[data-level="2"]:before {
      content: "\2022";
    }

    /* toc entry, level 3 bullet */
    #toc_panel[data-bullets="true"] .toc_link[data-level="3"]:before {
      content: "\25AB";
    }

    /* toc entry, level 4 bullet */
    #toc_panel[data-bullets="true"] .toc_link[data-level="4"]:before {
      content: "-";
    }
  }

  /* when on screen < 8.5in wide */
  @media only screen and (max-width: 8.5in) {
    /* push <body> ("page") element down to make room for toc icon */
    .toc_body_nudge {
      padding-top: 60px;
    }

    /* toc icon when panel closed and not hovered */
    #toc_panel[data-open="false"]:not(:hover) {
      background: rgba(255, 255, 255, 0.75);
    }
  }

  /* always hide toc panel on print */
  @media only print {
    #toc_panel {
      display: none;
    }
  }
</style>
<!-- 
  Tooltips Plugin

  Makes it such that when the user hovers or focuses a link to a citation or
  figure, a tooltip appears with a preview of the reference content, along with
  arrows to navigate between instances of the same reference in the document.
-->

<script type="module">
  // whether user must click off to close tooltip instead of just un-hovering
  const clickClose = "false";
  // delay (in ms) between opening and closing tooltip
  const delay = "100";

  // start script
  function start() {
    const links = getLinks();
    for (const link of links) {
      // attach hover and focus listeners to link
      link.addEventListener("mouseover", onLinkHover);
      link.addEventListener("mouseleave", onLinkUnhover);
      link.addEventListener("focus", onLinkFocus);
      link.addEventListener("touchend", onLinkTouch);
    }

    // attach mouse, key, and resize listeners to window
    window.addEventListener("mousedown", onClick);
    window.addEventListener("touchstart", onClick);
    window.addEventListener("keyup", onKeyUp);
    window.addEventListener("resize", onResize);
  }

  // when link is hovered
  function onLinkHover() {
    // function to open tooltip
    const delayOpenTooltip = function () {
      openTooltip(this);
    }.bind(this);

    // run open function after delay
    this.openTooltipTimer = window.setTimeout(delayOpenTooltip, delay);
  }

  // when mouse leaves link
  function onLinkUnhover() {
    // cancel opening tooltip
    window.clearTimeout(this.openTooltipTimer);

    // don't close on unhover if option specifies
    if (clickClose === "true") return;

    // function to close tooltip
    const delayCloseTooltip = function () {
      // if tooltip open and if mouse isn't over tooltip, close
      const tooltip = document.getElementById("tooltip");
      if (tooltip && !tooltip.matches(":hover")) closeTooltip();
    };

    // run close function after delay
    this.closeTooltipTimer = window.setTimeout(delayCloseTooltip, delay);
  }

  // when link is focused (tabbed to)
  function onLinkFocus(event) {
    openTooltip(this);
  }

  // when link is touched on touch screen
  function onLinkTouch(event) {
    // attempt to force hover state on first tap always, and trigger
    // regular link click (and navigation) on second tap
    if (event.target === document.activeElement) event.target.click();
    else {
      document.activeElement.blur();
      event.target.focus();
    }
    if (event.cancelable) event.preventDefault();
    event.stopPropagation();
    return false;
  }

  // when mouse is clicked anywhere in window
  function onClick(event) {
    closeTooltip();
  }

  // when key pressed
  function onKeyUp(event) {
    if (!event || !event.key) return;

    switch (event.key) {
      // trigger click of prev button
      case "ArrowLeft":
        const prevButton = document.getElementById("tooltip_prev_button");
        if (prevButton) prevButton.click();
        break;
      // trigger click of next button
      case "ArrowRight":
        const nextButton = document.getElementById("tooltip_next_button");
        if (nextButton) nextButton.click();
        break;
      // close on esc
      case "Escape":
        closeTooltip();
        break;
    }
  }

  // when window is resized or zoomed
  function onResize() {
    closeTooltip();
  }

  // get all links of types we wish to handle
  function getLinks() {
    const queries = [];
    // exclude buttons, anchor links, toc links, etc
    const exclude =
      ":not(.button):not(.icon_button):not(.anchor):not(.toc_link)";
    queries.push('a[href^="#ref-"]' + exclude); // citation links
    queries.push('a[href^="#fig:"]' + exclude); // figure links
    const query = queries.join(", ");
    return document.querySelectorAll(query);
  }

  // get links with same target, get index of link in set, get total
  // same links
  function getSameLinks(link) {
    const sameLinks = [];
    const links = getLinks();
    for (const otherLink of links) {
      if (otherLink.getAttribute("href") === link.getAttribute("href"))
        sameLinks.push(otherLink);
    }

    return {
      elements: sameLinks,
      index: sameLinks.indexOf(link),
      total: sameLinks.length,
    };
  }

  // open tooltip
  function openTooltip(link) {
    // delete tooltip if it exists, start fresh
    closeTooltip();

    // make tooltip element
    const tooltip = makeTooltip(link);

    // if source couldn't be found and tooltip not made, exit
    if (!tooltip) return;

    // make navbar elements
    const navBar = makeNavBar(link);
    if (navBar) tooltip.firstElementChild.appendChild(navBar);

    // attach tooltip to page
    document.body.appendChild(tooltip);

    // position tooltip
    const position = function () {
      positionTooltip(link);
    };
    position();

    // if tooltip contains images, position again after they've loaded
    const imgs = tooltip.querySelectorAll("img");
    for (const img of imgs) img.addEventListener("load", position);
  }

  // close (delete) tooltip
  function closeTooltip() {
    const tooltip = document.getElementById("tooltip");
    if (tooltip) tooltip.remove();
  }

  // make tooltip
  function makeTooltip(link) {
    // get target element that link points to
    const source = getSource(link);

    // if source can't be found, exit
    if (!source) return;

    // create new tooltip
    const tooltip = document.createElement("div");
    tooltip.id = "tooltip";
    const tooltipContent = document.createElement("div");
    tooltipContent.id = "tooltip_content";
    tooltip.appendChild(tooltipContent);

    // make copy of source node and put in tooltip
    const sourceCopy = makeCopy(source);
    tooltipContent.appendChild(sourceCopy);

    // attach mouse event listeners
    tooltip.addEventListener("click", onTooltipClick);
    tooltip.addEventListener("mousedown", onTooltipClick);
    tooltip.addEventListener("touchstart", onTooltipClick);
    tooltip.addEventListener("mouseleave", onTooltipUnhover);

    // (for interaction with lightbox plugin)
    // transfer click on tooltip copied img to original img
    const sourceImg = source.querySelector("img");
    const sourceCopyImg = sourceCopy.querySelector("img");
    if (sourceImg && sourceCopyImg) {
      const clickImg = function () {
        sourceImg.click();
        closeTooltip();
      };
      sourceCopyImg.addEventListener("click", clickImg);
    }

    return tooltip;
  }

  // make carbon copy of html dom element
  function makeCopy(source) {
    const sourceCopy = source.cloneNode(true);

    // delete elements marked with ignore (eg anchor and jump buttons)
    const deleteFromCopy = sourceCopy.querySelectorAll('[data-ignore="true"]');
    for (const element of deleteFromCopy) element.remove();

    // delete certain element attributes
    const attributes = [
      "id",
      "data-collapsed",
      "data-selected",
      "data-highlighted",
      "data-glow",
      "class",
    ];
    for (const attribute of attributes) {
      sourceCopy.removeAttribute(attribute);
      const elements = sourceCopy.querySelectorAll("[" + attribute + "]");
      for (const element of elements) element.removeAttribute(attribute);
    }

    return sourceCopy;
  }

  // when tooltip is clicked
  function onTooltipClick(event) {
    // when user clicks on tooltip, stop click from transferring
    // outside of tooltip (eg, click off to close tooltip, or eg click
    // off to unhighlight same refs)
    event.stopPropagation();
  }

  // when tooltip is unhovered
  function onTooltipUnhover(event) {
    if (clickClose === "true") return;

    // make sure new mouse/touch/focus no longer over tooltip or any
    // element within it
    const tooltip = document.getElementById("tooltip");
    if (!tooltip) return;
    if (this.contains(event.relatedTarget)) return;

    closeTooltip();
  }

  // make nav bar to go betwen prev/next instances of same reference
  function makeNavBar(link) {
    // find other links to the same source
    const sameLinks = getSameLinks(link);

    // don't show nav bar when singular reference
    if (sameLinks.total <= 1) return;

    // find prev/next links with same target
    const prevLink = getPrevLink(link, sameLinks);
    const nextLink = getNextLink(link, sameLinks);

    // create nav bar
    const navBar = document.createElement("div");
    navBar.id = "tooltip_nav_bar";
    const text = sameLinks.index + 1 + " of " + sameLinks.total;

    // create nav bar prev/next buttons
    const prevButton = document.createElement("button");
    const nextButton = document.createElement("button");
    prevButton.id = "tooltip_prev_button";
    nextButton.id = "tooltip_next_button";
    prevButton.title =
      "Jump to the previous occurence of this item in the document [←]";
    nextButton.title =
      "Jump to the next occurence of this item in the document [→]";
    prevButton.classList.add("icon_button");
    nextButton.classList.add("icon_button");
    prevButton.innerHTML = document.querySelector(".icon_caret_left").innerHTML;
    nextButton.innerHTML =
      document.querySelector(".icon_caret_right").innerHTML;
    navBar.appendChild(prevButton);
    navBar.appendChild(document.createTextNode(text));
    navBar.appendChild(nextButton);

    // attach click listeners to buttons
    prevButton.addEventListener("click", function () {
      onPrevNextClick(link, prevLink);
    });
    nextButton.addEventListener("click", function () {
      onPrevNextClick(link, nextLink);
    });

    return navBar;
  }

  // get previous link with same target
  function getPrevLink(link, sameLinks) {
    if (!sameLinks) sameLinks = getSameLinks(link);
    // wrap index to other side if < 1
    let index;
    if (sameLinks.index - 1 >= 0) index = sameLinks.index - 1;
    else index = sameLinks.total - 1;
    return sameLinks.elements[index];
  }

  // get next link with same target
  function getNextLink(link, sameLinks) {
    if (!sameLinks) sameLinks = getSameLinks(link);
    // wrap index to other side if > total
    let index;
    if (sameLinks.index + 1 <= sameLinks.total - 1) index = sameLinks.index + 1;
    else index = 0;
    return sameLinks.elements[index];
  }

  // get element that is target of link or url hash
  function getSource(link) {
    const hash = link ? link.hash : window.location.hash;
    const id = hash.slice(1);
    let target = document.querySelector('[id="' + id + '"]');
    if (!target) return;

    // if ref or figure, modify target to get expected element
    if (id.indexOf("ref-") === 0) target = target.querySelector(":nth-child(2)");
    else if (id.indexOf("fig:") === 0) target = target.querySelector("figure");

    return target;
  }

  // when prev/next arrow button is clicked
  function onPrevNextClick(link, prevNextLink) {
    if (link && prevNextLink)
      goToElement(prevNextLink, window.innerHeight * 0.5);
  }

  // scroll to and focus element
  function goToElement(element, offset) {
    // expand accordion section if collapsed
    expandElement(element);
    const y =
      getRectInView(element).top -
      getRectInView(document.documentElement).top -
      (offset || 0);
    // trigger any function listening for "onscroll" event
    window.dispatchEvent(new Event("scroll"));
    window.scrollTo(0, y);
    document.activeElement.blur();
    element.focus();
  }

  // determine position to place tooltip based on link position in
  // viewport and tooltip size
  function positionTooltip(link, left, top) {
    const tooltipElement = document.getElementById("tooltip");
    if (!tooltipElement) return;

    // get convenient vars for position/dimensions of
    // link/tooltip/page/view
    link = getRectInPage(link);
    const tooltip = getRectInPage(tooltipElement);
    const view = getRectInPage();

    // horizontal positioning
    if (left)
      // use explicit value
      left = left;
    else if (link.left + tooltip.width < view.right)
      // fit tooltip to right of link
      left = link.left;
    else if (link.right - tooltip.width > view.left)
      // fit tooltip to left of link
      left = link.right - tooltip.width;
    // center tooltip in view
    else left = (view.right - view.left) / 2 - tooltip.width / 2;

    // vertical positioning
    if (top)
      // use explicit value
      top = top;
    else if (link.top - tooltip.height > view.top)
      // fit tooltip above link
      top = link.top - tooltip.height;
    else if (link.bottom + tooltip.height < view.bottom)
      // fit tooltip below link
      top = link.bottom;
    else {
      // center tooltip in view
      top = view.top + view.height / 2 - tooltip.height / 2;
      // nudge off of link to left/right if possible
      if (link.right + tooltip.width < view.right) left = link.right;
      else if (link.left - tooltip.width > view.left)
        left = link.left - tooltip.width;
    }

    tooltipElement.style.left = left + "px";
    tooltipElement.style.top = top + "px";
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- caret left icon -->

<template class="icon_caret_left">
  <!-- modified from: https://fontawesome.com/icons/caret-left -->
  <svg width="16" height="16" viewBox="0 0 192 512">
    <path
      fill="currentColor"
      d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"
    ></path>
  </svg>
</template>

<!-- caret right icon -->

<template class="icon_caret_right">
  <!-- modified from: https://fontawesome.com/icons/caret-right -->
  <svg width="16" height="16" viewBox="0 0 192 512">
    <path
      fill="currentColor"
      d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"
    ></path>
  </svg>
</template>

<style>
  @media only screen {
    /* tooltip container */
    #tooltip {
      position: absolute;
      width: 50%;
      min-width: 240px;
      max-width: 75%;
      z-index: 1;
    }

    /* tooltip content */
    #tooltip_content {
      margin-bottom: 5px;
      padding: 20px;
      border-radius: 5px;
      border: solid 1px #bdbdbd;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
      background: #ffffff;
      overflow-wrap: break-word;
    }

    /* tooltip copy of paragraphs and figures */
    #tooltip_content > p,
    #tooltip_content > figure {
      margin: 0;
      max-height: 320px;
      overflow-y: auto;
    }

    /* tooltip copy of <img> */
    #tooltip_content > figure > img,
    #tooltip_content > figure > svg {
      max-height: 260px;
    }

    /* navigation bar */
    #tooltip_nav_bar {
      margin-top: 10px;
      text-align: center;
    }

    /* navigation bar previous/next buton */
    #tooltip_nav_bar > .icon_button {
      position: relative;
      top: 3px;
    }

    /* navigation bar previous button */
    #tooltip_nav_bar > .icon_button:first-of-type {
      margin-right: 5px;
    }

    /* navigation bar next button */
    #tooltip_nav_bar > .icon_button:last-of-type {
      margin-left: 5px;
    }
  }

  /* always hide tooltip on print */
  @media only print {
    #tooltip {
      display: none;
    }
  }
</style>
<!--
  Analytics Plugin (third-party) 
  
  Copy and paste code from Google Analytics or similar service here.
-->
<!-- 
  Annotations Plugin

  Allows public annotation of the  manuscript. See https://web.hypothes.is/.
-->

<script type="module">
  // configuration
  window.hypothesisConfig = function () {
    return {
      branding: {
        accentColor: "#2196f3",
        appBackgroundColor: "#f8f8f8",
        ctaBackgroundColor: "#f8f8f8",
        ctaTextColor: "#000000",
        selectionFontFamily: "Open Sans, Helvetica, sans serif",
        annotationFontFamily: "Open Sans, Helvetica, sans serif",
      },
    };
  };

  // hypothesis client script
  const embed = "https://hypothes.is/embed.js";
  // hypothesis annotation count query url
  const query = "https://api.hypothes.is/api/search?limit=0&url=";

  // start script
  function start() {
    const button = makeButton();
    document.body.insertBefore(button, document.body.firstChild);
    insertCount(button);
  }

  // make button
  function makeButton() {
    // create button
    const button = document.createElement("button");
    button.id = "hypothesis_button";
    button.innerHTML = document.querySelector(".icon_hypothesis").innerHTML;
    button.title = "Hypothesis annotations";
    button.classList.add("icon_button");

    function onClick(event) {
      onButtonClick(event, button);
    }

    // attach click listeners
    button.addEventListener("click", onClick);

    return button;
  }

  // insert annotations count
  async function insertCount(button) {
    // get annotation count from Hypothesis based on url
    let count = "-";
    try {
      const canonical = document.querySelector('link[rel="canonical"]');
      const location = window.location;
      const url = encodeURIComponent((canonical || location).href);
      const response = await fetch(query + url);
      const json = await response.json();
      count = json.total || "-";
    } catch (error) {
      console.log(error);
    }

    // put count into button
    const counter = document.createElement("span");
    counter.id = "hypothesis_count";
    counter.innerHTML = count;
    button.title = "View " + count + " Hypothesis annotations";
    button.append(counter);
  }

  // when button is clicked
  function onButtonClick(event, button) {
    const script = document.createElement("script");
    script.src = embed;
    document.body.append(script);
    button.remove();
  }

  // start script when document is finished loading
  window.addEventListener("load", start);
</script>

<!-- hypothesis icon -->

<template class="icon_hypothesis">
  <!-- modified from: https://simpleicons.org/icons/hypothesis.svg / https://git.io/Jf1VB -->
  <svg width="16" height="16" viewBox="0 0 24 24" tabindex="-1">
    <path
      fill="currentColor"
      d="M3.43 0C2.5 0 1.72 .768 1.72 1.72V18.86C1.72 19.8 2.5 20.57 3.43 20.57H9.38L12 24L14.62 20.57H20.57C21.5 20.57 22.29 19.8 22.29 18.86V1.72C22.29 .77 21.5 0 20.57 0H3.43M5.14 3.43H7.72V9.43S8.58 7.72 10.28 7.72C12 7.72 13.74 8.57 13.74 11.24V17.14H11.16V12C11.16 10.61 10.28 10.07 9.43 10.29C8.57 10.5 7.72 11.41 7.72 13.29V17.14H5.14V3.43M18 13.72C18.95 13.72 19.72 14.5 19.72 15.42A1.71 1.71 0 0 1 18 17.13A1.71 1.71 0 0 1 16.29 15.42C16.29 14.5 17.05 13.71 18 13.71Z"
      tabindex="-1"
    ></path>
  </svg>
</template>

<style>
  /* hypothesis activation button */
  #hypothesis_button {
    box-sizing: border-box;
    position: fixed;
    top: 0;
    right: 0;
    width: 60px;
    height: 60px;
    background: #ffffff;
    border-radius: 0;
    border-left: solid 1px #bdbdbd;
    border-bottom: solid 1px #bdbdbd;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    z-index: 2;
  }

  /* hypothesis button svg */
  #hypothesis_button > svg {
    position: relative;
    top: -4px;
  }

  /* hypothesis annotation count */
  #hypothesis_count {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 5px;
  }

  /* side panel */
  .annotator-frame {
    width: 280px !important;
  }

  /* match highlight color to rest of theme */
  .annotator-highlights-always-on .annotator-hl {
    background-color: #ffeb3b !important;
  }

  /* match focused color to rest of theme */
  .annotator-hl.annotator-hl-focused {
    background-color: #ff8a65 !important;
  }

  /* match bucket bar color to rest of theme */
  .annotator-bucket-bar {
    background: #f5f5f5 !important;
  }

  /* always hide button, toolbar, and tooltip on print */
  @media only print {
    #hypothesis_button {
      display: none;
    }

    .annotator-frame {
      display: none !important;
    }

    hypothesis-adder {
      display: none !important;
    }
  }
</style>
<!-- 
  Mathjax Plugin (third-party) 

  Allows the proper rendering of math/equations written in LaTeX.
  See https://www.mathjax.org/.
-->

<script type="text/x-mathjax-config">
  // configuration
  MathJax.Hub.Config({
    "CommonHTML": { linebreaks: { automatic: true } },
    "HTML-CSS": { linebreaks: { automatic: true } },
    "SVG": { linebreaks: { automatic: true } },
    "fast-preview": { disabled: true }
  });
</script>

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"
  integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A=="
  crossorigin="anonymous"
></script>

<style>
  /* mathjax containers */
  .math.display > span:not(.MathJax_Preview) {
    /* turn inline element (no dimensions) into block (allows fixed width and thus scrolling) */
    display: flex !important;
    overflow-x: auto !important;
    overflow-y: hidden !important;
    justify-content: center;
    align-items: center;
    margin: 0 !important;
  }

  /* right click menu */
  .MathJax_Menu {
    border-radius: 5px !important;
    border: solid 1px #bdbdbd !important;
    box-shadow: none !important;
  }

  /* equation auto-number */
  span[id^="eq:"] > span.math.display + span {
    font-weight: 600;
  }

  /* equation */
  span[id^="eq:"] > span.math.display > span {
    /* nudge to make room for equation auto-number and anchor */
    margin-right: 60px !important;
  }
</style>
</body>
</html>
